# 发布准备完成

## 发布文件验证

✅ 所有必需的发布文件已准备就绪：

- **main.js** (96.78 KB) - 生产构建的插件代码
- **manifest.json** (522 bytes) - 插件元数据
- **styles.css** (29.03 KB) - 插件样式

## 版本信息

- **版本号**: 1.0.0
- **最小 Obsidian 版本**: 1.0.0
- **插件 ID**: obsidian-cognitive-razor
- **插件名称**: Cognitive Razor

## 发布检查清单

### 已完成 ✅

- [x] 运行生产构建 (`npm run build`)
- [x] 验证 main.js 生成成功
- [x] 验证 manifest.json 格式正确
- [x] 验证 styles.css 存在
- [x] 验证版本号一致性
- [x] 验证 CHANGELOG.md 包含当前版本
- [x] 运行发布验证脚本 (`npm run verify-release`)

### 待完成 ⚠️

- [ ] 提交所有更改到 Git
- [ ] 创建 Git 标签 `1.0.0`
- [ ] 推送代码和标签到 GitHub
- [ ] 在 GitHub 上创建 Release
- [ ] 上传发布文件到 Release

## 创建 GitHub Release 步骤

### 1. 提交更改并创建标签

```bash
# 提交所有更改
git add .
git commit -m "chore: prepare release 1.0.0"

# 创建标签（注意：不要使用 'v' 前缀）
git tag 1.0.0

# 推送代码和标签
git push origin main
git push origin 1.0.0
```

### 2. 在 GitHub 上创建 Release

1. 访问你的 GitHub 仓库
2. 点击 "Releases" 标签
3. 点击 "Create a new release"
4. 填写以下信息：
   - **Tag**: 选择 `1.0.0`（必须与 manifest.json 中的版本号完全一致）
   - **Release title**: `1.0.0` 或 `Cognitive Razor 1.0.0`
   - **Description**: 从 CHANGELOG.md 复制版本说明

### 3. 上传发布文件

在 Release 页面的 "Assets" 部分，上传以下三个文件：

1. **main.js** - 必需
2. **manifest.json** - 必需
3. **styles.css** - 必需

**重要提示**：
- 这三个文件必须作为单独的文件上传，不要打包成 zip
- 文件名必须完全匹配（区分大小写）
- 不要修改文件内容

### 4. 发布 Release

1. 检查所有信息是否正确
2. 点击 "Publish release"

## 提交到 Obsidian 社区插件

首次发布后，你需要将插件提交到 Obsidian 社区插件目录：

1. Fork [obsidian-releases](https://github.com/obsidianmd/obsidian-releases) 仓库
2. 在 `community-plugins.json` 中添加你的插件信息
3. 创建 Pull Request

详细步骤请参考：https://docs.obsidian.md/Plugins/Releasing/Submit+your+plugin

## 后续版本发布

对于后续版本，只需要：

1. 更新版本号（manifest.json, package.json, versions.json）
2. 更新 CHANGELOG.md
3. 运行 `npm run build`
4. 创建新的 Git 标签和 GitHub Release
5. 上传新的发布文件

## 验证发布

发布后，你可以通过以下方式验证：

1. 在测试 vault 中手动安装插件
2. 将发布文件复制到 `.obsidian/plugins/obsidian-cognitive-razor/`
3. 在 Obsidian 中启用插件
4. 测试核心功能是否正常工作

## 需要帮助？

如果遇到问题，请参考：

- [Obsidian 插件发布指南](https://docs.obsidian.md/Plugins/Releasing/Release+your+plugin+with+GitHub+Actions)
- [Obsidian 插件提交指南](https://docs.obsidian.md/Plugins/Releasing/Submit+your+plugin)
- [Obsidian 开发者政策](https://docs.obsidian.md/Developer+policies)

---

**状态**: ✅ 准备就绪，可以发布
**日期**: 2025-12-06
