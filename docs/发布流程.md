# Cognitive Razor å‘å¸ƒæµç¨‹

æœ¬æ–‡æ¡£æè¿°äº† Cognitive Razor æ’ä»¶çš„å®Œæ•´å‘å¸ƒæµç¨‹ã€‚

## å‰ç½®æ¡ä»¶

- Node.js å’Œ npm å·²å®‰è£…
- Git å·²é…ç½®
- æ‹¥æœ‰ GitHub ä»“åº“çš„å†™å…¥æƒé™
- æ‰€æœ‰æµ‹è¯•é€šè¿‡
- CHANGELOG.md å·²æ›´æ–°

## å‘å¸ƒæµç¨‹

### é˜¶æ®µ 1: å‡†å¤‡å‘å¸ƒ

#### 1.1 æ›´æ–°ç‰ˆæœ¬å·

å¦‚æœéœ€è¦å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œæ›´æ–°ä»¥ä¸‹æ–‡ä»¶ä¸­çš„ç‰ˆæœ¬å·ï¼š

```bash
# ä½¿ç”¨ npm version å‘½ä»¤è‡ªåŠ¨æ›´æ–°
npm version patch  # 1.0.0 -> 1.0.1
npm version minor  # 1.0.0 -> 1.1.0
npm version major  # 1.0.0 -> 2.0.0
```

è¿™ä¼šè‡ªåŠ¨æ›´æ–°ï¼š
- `package.json` ä¸­çš„ `version`
- `manifest.json` ä¸­çš„ `version`
- `versions.json` ä¸­çš„ç‰ˆæœ¬æ˜ å°„

#### 1.2 æ›´æ–° CHANGELOG.md

åœ¨ `CHANGELOG.md` ä¸­æ·»åŠ æ–°ç‰ˆæœ¬çš„æ›´æ–°è¯´æ˜ï¼š

```markdown
## [1.0.0] - 2025-12-06

### Added
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ¦‚å¿µåˆ›å»ºä¸æ ‡å‡†åŒ–åŠŸèƒ½
- è¯­ä¹‰å»é‡æ£€æµ‹
- AI å†…å®¹ç”Ÿæˆ
- å¢é‡æ”¹è¿›
- å¯é€†å†™å…¥
- ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†
- é‡å¤æ¦‚å¿µåˆå¹¶
```

#### 1.3 è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•è¦†ç›–ç‡
npm run test:coverage
```

ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡ã€‚

### é˜¶æ®µ 2: æ„å»ºå‘å¸ƒç‰ˆæœ¬

#### 2.1 æ¸…ç†æ—§æ„å»º

```bash
# åˆ é™¤æ—§çš„ main.jsï¼ˆå¦‚æœå­˜åœ¨ï¼‰
Remove-Item main.js -ErrorAction SilentlyContinue
```

#### 2.2 è¿è¡Œç”Ÿäº§æ„å»º

```bash
npm run build
```

è¿™ä¼šï¼š
- è¿è¡Œ TypeScript ç±»å‹æ£€æŸ¥
- ä½¿ç”¨ esbuild æ‰“åŒ…ä»£ç 
- ç”Ÿæˆå‹ç¼©çš„ `main.js`

#### 2.3 éªŒè¯æ„å»º

```bash
npm run verify-release
```

æ£€æŸ¥è¾“å‡ºï¼Œç¡®ä¿ï¼š
- âœ… æ‰€æœ‰å¿…éœ€æ–‡ä»¶å­˜åœ¨
- âœ… manifest.json æ ¼å¼æ­£ç¡®
- âœ… ç‰ˆæœ¬å·ä¸€è‡´
- âœ… main.js å¤§å°åˆç†

### é˜¶æ®µ 3: æäº¤åˆ° Git

#### 3.1 æäº¤æ›´æ”¹

```bash
# æŸ¥çœ‹æ›´æ”¹
git status

# æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add .

# æäº¤ï¼ˆä½¿ç”¨è¯­ä¹‰åŒ–æäº¤æ¶ˆæ¯ï¼‰
git commit -m "chore: prepare release 1.0.0"
```

#### 3.2 åˆ›å»ºæ ‡ç­¾

```bash
# åˆ›å»ºæ ‡ç­¾ï¼ˆæ³¨æ„ï¼šä¸è¦ä½¿ç”¨ 'v' å‰ç¼€ï¼‰
git tag 1.0.0

# æŸ¥çœ‹æ ‡ç­¾
git tag -l
```

**é‡è¦**: æ ‡ç­¾åå¿…é¡»ä¸ `manifest.json` ä¸­çš„ `version` å®Œå…¨ä¸€è‡´ã€‚

#### 3.3 æ¨é€åˆ° GitHub

```bash
# æ¨é€ä»£ç 
git push origin main

# æ¨é€æ ‡ç­¾
git push origin 1.0.0
```

### é˜¶æ®µ 4: åˆ›å»º GitHub Release

#### 4.1 è®¿é—® GitHub Release é¡µé¢

1. æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ä½ çš„ GitHub ä»“åº“
2. ç‚¹å‡» "Releases" æ ‡ç­¾
3. ç‚¹å‡» "Create a new release" æŒ‰é’®

#### 4.2 å¡«å†™ Release ä¿¡æ¯

- **Choose a tag**: é€‰æ‹© `1.0.0`
- **Release title**: `1.0.0` æˆ– `Cognitive Razor 1.0.0`
- **Description**: ä» CHANGELOG.md å¤åˆ¶ç‰ˆæœ¬è¯´æ˜

ç¤ºä¾‹æè¿°ï¼š

```markdown
## Cognitive Razor 1.0.0

### ğŸ‰ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ

Cognitive Razor æ˜¯ä¸€ä¸ª AI é©±åŠ¨çš„çŸ¥è¯†ç®¡ç†æ’ä»¶ï¼Œå¸®åŠ©ä½ å°†æ¨¡ç³Šçš„æ¦‚å¿µè½¬åŒ–ä¸ºç»“æ„åŒ–çš„çŸ¥è¯†èŠ‚ç‚¹ã€‚

### âœ¨ ä¸»è¦åŠŸèƒ½

- **æ¦‚å¿µåˆ›å»ºä¸æ ‡å‡†åŒ–**: å°†æ¨¡ç³Šæƒ³æ³•è½¬åŒ–ä¸ºæ ‡å‡†åŒ–çŸ¥è¯†èŠ‚ç‚¹
- **è¯­ä¹‰å»é‡æ£€æµ‹**: è‡ªåŠ¨æ£€æµ‹å¹¶ç®¡ç†é‡å¤æ¦‚å¿µ
- **AI å†…å®¹ç”Ÿæˆ**: æ ¹æ®çŸ¥è¯†ç±»å‹ç”Ÿæˆç»“æ„åŒ–å†…å®¹
- **å¢é‡æ”¹è¿›**: æ¸è¿›å¼å®Œå–„ç°æœ‰ç¬”è®°
- **å¯é€†å†™å…¥**: æ‰€æœ‰æ“ä½œéƒ½å¯æ’¤é”€
- **ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†**: é«˜æ•ˆç®¡ç† AI ä»»åŠ¡
- **é‡å¤æ¦‚å¿µåˆå¹¶**: AI è¾…åŠ©çš„ç¬”è®°åˆå¹¶

### ğŸ“¦ å®‰è£…

1. ä¸‹è½½ `main.js`, `manifest.json`, `styles.css`
2. å°†å®ƒä»¬æ”¾å…¥ `.obsidian/plugins/obsidian-cognitive-razor/`
3. åœ¨ Obsidian è®¾ç½®ä¸­å¯ç”¨æ’ä»¶

### ğŸ“š æ–‡æ¡£

- [å¿«é€Ÿå¼€å§‹æŒ‡å—](docs/å¿«é€Ÿå¼€å§‹æŒ‡å—.md)
- [å¸¸è§é—®é¢˜è§£ç­”](docs/å¸¸è§é—®é¢˜è§£ç­”.md)
- [æ•…éšœæ’é™¤æŒ‡å—](docs/æ•…éšœæ’é™¤æŒ‡å—.md)

### ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œæµ‹è¯•è€…ï¼
```

#### 4.3 ä¸Šä¼ å‘å¸ƒæ–‡ä»¶

åœ¨ "Assets" éƒ¨åˆ†ï¼Œç‚¹å‡» "Attach binaries" å¹¶ä¸Šä¼ ï¼š

1. `main.js`
2. `manifest.json`
3. `styles.css`

**æ³¨æ„äº‹é¡¹**ï¼š
- å¿…é¡»ä¸Šä¼ è¿™ä¸‰ä¸ªæ–‡ä»¶
- æ–‡ä»¶åå¿…é¡»å®Œå…¨åŒ¹é…
- ä¸è¦ä¿®æ”¹æ–‡ä»¶å†…å®¹
- ä¸è¦æ‰“åŒ…æˆ zip

#### 4.4 å‘å¸ƒ

1. æ£€æŸ¥æ‰€æœ‰ä¿¡æ¯
2. ç‚¹å‡» "Publish release"

### é˜¶æ®µ 5: æäº¤åˆ° Obsidian ç¤¾åŒºï¼ˆé¦–æ¬¡å‘å¸ƒï¼‰

é¦–æ¬¡å‘å¸ƒåï¼Œéœ€è¦å°†æ’ä»¶æäº¤åˆ° Obsidian ç¤¾åŒºæ’ä»¶ç›®å½•ã€‚

#### 5.1 Fork obsidian-releases ä»“åº“

1. è®¿é—® https://github.com/obsidianmd/obsidian-releases
2. ç‚¹å‡» "Fork" æŒ‰é’®

#### 5.2 æ·»åŠ æ’ä»¶ä¿¡æ¯

åœ¨ä½ çš„ fork ä¸­ï¼Œç¼–è¾‘ `community-plugins.json`ï¼š

```json
{
  "id": "obsidian-cognitive-razor",
  "name": "Cognitive Razor",
  "author": "Cognitive Razor Team",
  "description": "AI-powered knowledge management plugin that transforms vague concepts into structured knowledge nodes with semantic deduplication, incremental improvement, and reversible operations.",
  "repo": "your-username/obsidian-cognitive-razor"
}
```

#### 5.3 åˆ›å»º Pull Request

1. æäº¤æ›´æ”¹åˆ°ä½ çš„ fork
2. åˆ›å»º Pull Request åˆ° obsidian-releases
3. ç­‰å¾… Obsidian å›¢é˜Ÿå®¡æ ¸

å®¡æ ¸é€šè¿‡åï¼Œä½ çš„æ’ä»¶å°†å‡ºç°åœ¨ Obsidian ç¤¾åŒºæ’ä»¶åˆ—è¡¨ä¸­ã€‚

## åç»­ç‰ˆæœ¬å‘å¸ƒ

å¯¹äºåç»­ç‰ˆæœ¬ï¼Œé‡å¤ä»¥ä¸‹æ­¥éª¤ï¼š

1. æ›´æ–°ç‰ˆæœ¬å·ï¼ˆä½¿ç”¨ `npm version`ï¼‰
2. æ›´æ–° CHANGELOG.md
3. è¿è¡Œæµ‹è¯•
4. æ„å»ºå‘å¸ƒç‰ˆæœ¬
5. æäº¤åˆ° Git å¹¶åˆ›å»ºæ ‡ç­¾
6. åˆ›å»º GitHub Release
7. ä¸Šä¼ å‘å¸ƒæ–‡ä»¶

**ä¸éœ€è¦**å†æ¬¡æäº¤åˆ° obsidian-releasesï¼Œé™¤éï¼š
- æ›´æ”¹äº†æ’ä»¶ ID
- æ›´æ”¹äº†ä»“åº“åœ°å€
- éœ€è¦æ›´æ–°æ’ä»¶æè¿°

## å›æ»šå‘å¸ƒ

å¦‚æœå‘ç°ä¸¥é‡é—®é¢˜éœ€è¦å›æ»šï¼š

### 1. åˆ é™¤ GitHub Release

1. è®¿é—® Release é¡µé¢
2. ç‚¹å‡»æœ‰é—®é¢˜çš„ Release
3. ç‚¹å‡» "Delete" æŒ‰é’®

### 2. åˆ é™¤ Git æ ‡ç­¾

```bash
# åˆ é™¤æœ¬åœ°æ ‡ç­¾
git tag -d 1.0.0

# åˆ é™¤è¿œç¨‹æ ‡ç­¾
git push origin :refs/tags/1.0.0
```

### 3. ä¿®å¤é—®é¢˜å¹¶é‡æ–°å‘å¸ƒ

1. ä¿®å¤ä»£ç é—®é¢˜
2. é‡æ–°è¿è¡Œæµ‹è¯•
3. é‡æ–°æ„å»º
4. ä½¿ç”¨ç›¸åŒç‰ˆæœ¬å·é‡æ–°å‘å¸ƒ

## å‘å¸ƒæ£€æŸ¥æ¸…å•

ä½¿ç”¨æ­¤æ¸…å•ç¡®ä¿ä¸é—æ¼ä»»ä½•æ­¥éª¤ï¼š

- [ ] æ›´æ–°ç‰ˆæœ¬å·ï¼ˆpackage.json, manifest.json, versions.jsonï¼‰
- [ ] æ›´æ–° CHANGELOG.md
- [ ] è¿è¡Œæ‰€æœ‰æµ‹è¯•å¹¶é€šè¿‡
- [ ] è¿è¡Œ `npm run build`
- [ ] è¿è¡Œ `npm run verify-release`
- [ ] æäº¤æ‰€æœ‰æ›´æ”¹åˆ° Git
- [ ] åˆ›å»º Git æ ‡ç­¾ï¼ˆä¸å¸¦ 'v' å‰ç¼€ï¼‰
- [ ] æ¨é€ä»£ç å’Œæ ‡ç­¾åˆ° GitHub
- [ ] åœ¨ GitHub ä¸Šåˆ›å»º Release
- [ ] ä¸Šä¼  main.js, manifest.json, styles.css
- [ ] å‘å¸ƒ Release
- [ ] ï¼ˆé¦–æ¬¡ï¼‰æäº¤åˆ° obsidian-releases

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆæ ‡ç­¾ä¸èƒ½æœ‰ 'v' å‰ç¼€ï¼Ÿ

A: Obsidian è¦æ±‚æ ‡ç­¾åä¸ manifest.json ä¸­çš„ç‰ˆæœ¬å·å®Œå…¨ä¸€è‡´ã€‚manifest.json ä¸­çš„ç‰ˆæœ¬å·æ˜¯ `1.0.0`ï¼Œæ‰€ä»¥æ ‡ç­¾ä¹Ÿå¿…é¡»æ˜¯ `1.0.0`ï¼Œè€Œä¸æ˜¯ `v1.0.0`ã€‚

### Q: å¦‚æœå¿˜è®°ä¸Šä¼ æŸä¸ªæ–‡ä»¶æ€ä¹ˆåŠï¼Ÿ

A: å¯ä»¥ç¼–è¾‘ Releaseï¼Œåœ¨ Assets éƒ¨åˆ†è¡¥å……ä¸Šä¼ ç¼ºå¤±çš„æ–‡ä»¶ã€‚

### Q: å¯ä»¥ä¿®æ”¹å·²å‘å¸ƒçš„ Release å—ï¼Ÿ

A: å¯ä»¥ç¼–è¾‘ Release çš„æè¿°å’Œæ–‡ä»¶ï¼Œä½†ä¸å»ºè®®ä¿®æ”¹å·²å‘å¸ƒçš„ä»£ç ã€‚å¦‚æœéœ€è¦ä¿®å¤é—®é¢˜ï¼Œåº”è¯¥å‘å¸ƒæ–°ç‰ˆæœ¬ã€‚

### Q: å¦‚ä½•æµ‹è¯•å‘å¸ƒçš„æ’ä»¶ï¼Ÿ

A: ä» GitHub Release ä¸‹è½½æ–‡ä»¶ï¼Œæ‰‹åŠ¨å®‰è£…åˆ°æµ‹è¯• vault ä¸­è¿›è¡ŒéªŒè¯ã€‚

## ç›¸å…³èµ„æº

- [Obsidian æ’ä»¶å‘å¸ƒæŒ‡å—](https://docs.obsidian.md/Plugins/Releasing/Release+your+plugin+with+GitHub+Actions)
- [Obsidian æ’ä»¶æäº¤æŒ‡å—](https://docs.obsidian.md/Plugins/Releasing/Submit+your+plugin)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ](https://semver.org/lang/zh-CN/)
- [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)

---

**æœ€åæ›´æ–°**: 2025-12-06
