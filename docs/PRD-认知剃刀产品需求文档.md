# Cognitive Razor (CR) - äº§å“éœ€æ±‚æ–‡æ¡£

## 1. ç³»ç»Ÿå®šä½

### 1.1 æ ¸å¿ƒé—®é¢˜ (First Principles)

æœ¬ç³»ç»Ÿè§£å†³ä¸‰ä¸ªä¸€é˜¶é—®é¢˜ï¼š

|   ID   | é—®é¢˜åç§° |              é—®é¢˜æè¿°              |
|:----: |:--: |:----------------------------: |
| **P1** | é«˜ç†µå‹ç¼© | å¦‚ä½•å°†è‡ªç”±å½¢å¼çš„è‡ªç„¶è¯­è¨€ï¼Œè½¬åŒ–ä¸ºç»“æ„åŒ–ã€å¯å¤ç”¨çš„çŸ¥è¯†å¯¹è±¡ï¼Ÿ|
| **P2** | è¯­ä¹‰å»é‡ | å¦‚ä½•ç¡®ä¿"åŒä¸€æœ¬ä½“"åœ¨çŸ¥è¯†åº“ä¸­åªå­˜åœ¨ä¸€ä¸ªå®ä¾‹ï¼Œé¿å…è¯­ä¹‰é‡å¤ï¼Ÿ|
| **P3** | äººæœºåä½œ | å¦‚ä½•åœ¨ AI è¾…åŠ©ç”Ÿæˆçš„åŒæ—¶ï¼Œä¿è¯äººç±»å¯¹çŸ¥è¯†åº“çš„æœ€ç»ˆæ§åˆ¶æƒï¼Ÿ|

### 1.2 ç›®æ ‡å‡½æ•° (Optimization Targets)

|   ID   |   ç›®æ ‡    |            åº¦é‡æ–¹å¼            |
|:----: |:-----: |:------------------------: |
| **G1** | æœ€å°åŒ–è¯­ä¹‰é‡å¤ |   åŒç±»å‹èŠ‚ç‚¹ä¸­ï¼Œç›¸ä¼¼åº¦ > dedupThreshold çš„èŠ‚ç‚¹å¯¹æ•°é‡è¶‹è¿‘äº 0    |
| **G2** | æœ€å¤§åŒ–ä¿¡æ¯å¯†åº¦ | å•ä¸ªèŠ‚ç‚¹å¯ç‹¬ç«‹ä½œä¸ºå‚è€ƒå•å…ƒï¼Œæ— éœ€è·³è½¬å³å¯ç†è§£æ ¸å¿ƒæ¦‚å¿µ |
| **G3** | æœ€å°åŒ–è®¤çŸ¥è´Ÿè½½ |    å•æ¬¡æ“ä½œä¸­ç”¨æˆ·å¿…é¡»åšå‡ºçš„å†³ç­–æ•°é‡å°½å¯èƒ½å°‘    |
| **G4** | æœ€å°åŒ–æ“ä½œæ‘©æ“¦ |      æ—¥å¸¸çŸ¥è¯†æ³¨å…¥æµç¨‹å°½å¯èƒ½å¿«é€Ÿå®Œæˆ       |
| **G5** | æœ€å¤§åŒ–æ™ºèƒ½å†³ç­– | ç³»ç»Ÿè‡ªåŠ¨å¤„ç†çš„å†³ç­–å æ¯”å¤§äºç”¨æˆ·ï¼Œç”¨æˆ·ä»…å®¡æ ¸è¾¹ç•Œæ¡ˆä¾‹  |

### 1.3 ç³»ç»Ÿå®šä¹‰

**Cognitive Razor æ˜¯ä¸€ä¸ªåŸºäº Obsidian çš„"è®¤çŸ¥ç¼–è¯‘å™¨"ã€‚**
- **è¾“å…¥**: è‡ªç„¶è¯­è¨€æ¦‚å¿µ
- **è¾“å‡º**: ç»“æ„åŒ–ã€å»é‡ã€å¸¦åŒé“¾çš„ Markdown çŸ¥è¯†å›¾è°±

## 2. ç³»ç»Ÿå…¬ç† (Inviolable Constraints)

ä»¥ä¸‹è§„åˆ™ä¸ºç³»ç»Ÿè®¾è®¡çš„ç¡¬çº¦æŸï¼Œä»»ä½•åŠŸèƒ½è®¾è®¡ä¸å¾—è¿èƒŒã€‚

### A1. è¯­ä¹‰å”¯ä¸€æ€§

> ç³»ç»Ÿä¸­ä»»ä¸€åŒç±»å‹èŠ‚ç‚¹åªèƒ½å­˜åœ¨ä¸€ä¸ª UIDã€‚

- **å®æ–½è¦æ±‚**: ä»»ä½•æ–°å»ºèŠ‚ç‚¹åœ¨å†™å…¥å‰ï¼Œå¿…é¡»ç»è¿‡åŸºäºå‘é‡æ£€ç´¢çš„ç­‰ä»·å€™é€‰æ£€æŸ¥ã€‚è‹¥å‘ç°é«˜ç›¸ä¼¼åº¦åŒ¹é…ï¼Œç³»ç»Ÿå¿…é¡»å‘ç”¨æˆ·å±•ç¤ºæ½œåœ¨çš„é‡å¤é¡¹ï¼Œå¹¶**è¿›è¡Œé˜»æ–­å¼æé†’**ï¼ˆå¦‚ç¦ç”¨åˆ›å»ºæŒ‰é’®ï¼‰ï¼Œå¼ºåˆ¶å¼•å¯¼ç”¨æˆ·æŸ¥çœ‹å·²æœ‰ç¬”è®°ã€‚ä»…å½“ç”¨æˆ·æ˜¾å¼å‹¾é€‰â€œå¿½ç•¥é‡å¤â€é€‰é¡¹åï¼Œæ‰å…è®¸åˆ›å»ºæ–°èŠ‚ç‚¹ï¼ˆOverrideï¼‰ã€‚
- **è·¨ç±»å‹å…±å­˜**: åŒä¸€æ¦‚å¿µå¯ä½œä¸ºä¸åŒç±»å‹çš„èŠ‚ç‚¹åˆ†åˆ«å­˜åœ¨ã€‚ä¾‹å¦‚ã€Œåšå¼ˆè®ºã€å¯åŒæ—¶ä½œä¸º Domainï¼ˆæè¿°å­¦ç§‘è¾¹ç•Œï¼‰å’Œ Theoryï¼ˆæè¿°å…·ä½“ç†è®ºä½“ç³»ï¼‰å­˜åœ¨ï¼Œå› ä¸ºå®ƒä»¬åˆ»ç”»çš„æ˜¯è¯¥æ¦‚å¿µçš„ä¸åŒè®¤çŸ¥å±‚é¢ã€‚å»é‡æ£€æŸ¥ä»…åœ¨**åŒç±»å‹**èŠ‚ç‚¹é—´æ‰§è¡Œã€‚
- **è¿ååæœ**: è¯­ä¹‰é‡å¤ï¼Œç›®æ ‡ G1 å¤±è´¥ã€‚

### A2. å› æœå±‚çº§æ€§

> çŸ¥è¯†èŠ‚ç‚¹å¿…é¡»ä¸”åªèƒ½å±äº 6 ç§ç±»å‹ä¹‹ä¸€ã€‚

| ç±»å‹ | è‹±æ–‡ | åˆ¤å®šæ ‡å‡† |
|:--: |:--: |:--: |
| é¢†åŸŸ | Domain | å¯ç‹¬ç«‹å­˜åœ¨çš„çŸ¥è¯†è¾¹ç•Œï¼Œå¯ MECE åˆ†è§£ |
| è®®é¢˜ | Issue | é¢†åŸŸçš„é—®é¢˜ç©ºé—´ï¼Œå­˜åœ¨æ ¸å¿ƒçŸ›ç›¾ (X vs Y)ï¼Œæœ‰å¤šä¸ªç†è®ºå°è¯•è§£å†³ |
| ç†è®º | Theory | è®®é¢˜çš„è§£ç©ºé—´ï¼Œä»å…¬ç†å‡ºå‘ï¼Œé€šè¿‡é€»è¾‘æ¨æ¼”å¾—å‡ºç»“è®ºçš„ä½“ç³»ï¼Œç”±å®ä½“ä¸æœºåˆ¶æ„æˆ |
| å®ä½“ | Entity | å®šä¹‰æ—¶ä¸éœ€å¼•ç”¨æ—¶é—´/è¿‡ç¨‹ï¼Œé™æ€å¯¹è±¡ |
| æœºåˆ¶ | Mechanism | å®šä¹‰ä¸­å¿…é¡»åŒ…å«çŠ¶æ€å˜åŒ–æˆ–å› æœé“¾ï¼Œä½œç”¨äº Entity |
| åŸç† | Principle | å¯è¡¨è¿°ä¸º IF-THEN å½¢å¼ï¼Œä» â‰¥2 ä¸ªä¸åŒæœºåˆ¶ä¸­æŠ½è±¡çš„ç»“æ„ä¸å˜é‡ |

**å…³äºç»ˆç«¯æ€§ä¸åˆæˆçš„è¯´æ˜**:
- **Mechanism**: ä¸æ”¯æŒè¿›ä¸€æ­¥çš„â€œæ·±åŒ–/åˆ†è§£â€ä»¥ç”Ÿæˆå­ç±»å‹ï¼ˆå³æ— å‘ä¸‹çš„æ·±åŒ–é“¾ï¼‰ï¼Œä½†å¯ä»¥ä½œä¸º**åˆæˆï¼ˆå¤šå¯¹ä¸€ï¼‰**çš„è¾“å…¥å‚ä¸ç”Ÿæˆ `Principle`ã€‚
- **Principle**: ä¸ºçœŸæ­£çš„ç»ˆç«¯èŠ‚ç‚¹ï¼Œæ—¢ä¸æ”¯æŒæ·±åŒ–ä¹Ÿä¸æ”¯æŒä½œä¸ºåˆæˆè¾“å…¥å†æ¬¡ç”Ÿæˆå…¶ä»–ç±»å‹ã€‚Principle åªèƒ½é€šè¿‡ Mechanism çš„åˆæˆæµç¨‹åˆ›å»ºï¼Œä¸èƒ½é€šè¿‡æ™®é€šçš„åˆ›å»º/ç±»å‹æ¨æ–­æµç¨‹ç›´æ¥äº§ç”Ÿã€‚

- **è¿ååæœ**: ç±»å‹æ··æ·†ï¼ŒçŸ¥è¯†å›¾è°±é€»è¾‘æ–­è£‚ã€‚

### A3. äººæœºå…±ç”Ÿæ€§

> AI ç”Ÿæˆå»ºè®®ï¼Œäººç±»æ‹¥æœ‰å”¯ä¸€å†™å…¥è£å†³æƒã€‚

- **å®æ–½è¦æ±‚**:
    - ç¦æ­¢é™é»˜å†™å…¥ï¼šä»»ä½•æ–‡ä»¶ä¿®æ”¹å¿…é¡»ç»ç”¨æˆ·æ˜¾å¼ç¡®è®¤ã€‚
    - å¯è¿½æº¯æ€§ï¼šä»»ä½•å†™å…¥æ“ä½œå¯åœ¨æ—¥å¿—ä¸­å›æº¯åˆ°å…·ä½“çš„ç”¨æˆ·ç¡®è®¤äº‹ä»¶ã€‚
    - å¯æ’¤é”€æ€§ï¼šæ‰€æœ‰å†™å…¥æ“ä½œæ”¯æŒæ’¤é”€ã€‚
    - å¯ä¸­æ–­æ¢å¤æ€§ï¼šé•¿æ—¶é—´æ“ä½œå¯æš‚å­˜è¿›åº¦ï¼Œç”¨æˆ·å¯åœ¨ä¹‹åæ¢å¤ã€‚
- **è¿ååæœ**: ç”¨æˆ·å¤±å»å¯¹çŸ¥è¯†åº“çš„æ§åˆ¶æƒï¼Œé—®é¢˜ P3 (äººæœºåä½œ) å¤±è´¥ã€‚

### A4. å‘½åè§„èŒƒæ€§

> æ‰€æœ‰çŸ¥è¯†èŠ‚ç‚¹çš„è§„èŒƒåç§°é»˜è®¤é‡‡ç”¨ `ä¸­æ–‡æœ¯è¯­ (English Term)` æ ¼å¼ï¼Œä½†ç”¨æˆ·å¯é€šè¿‡è®¾ç½®è‡ªå®šä¹‰å‘½åæ¨¡æ¿ã€‚

- **è‡ªå®šä¹‰æœºåˆ¶**:
    - ç”¨æˆ·å¯åœ¨è®¾ç½®ä¸­é…ç½® `namingTemplate`ï¼Œæ”¯æŒçš„å ä½ç¬¦è§ 7.3 èŠ‚
    - ç³»ç»Ÿä¼˜å…ˆä½¿ç”¨ç”¨æˆ·è®¾å®šçš„æ¨¡æ¿ï¼Œä»…åœ¨æœªé…ç½®æ—¶ä½¿ç”¨é»˜è®¤æ ¼å¼
    - æ”¯æŒçš„æ ¼å¼ç¤ºä¾‹ï¼š
        - `{{chinese}} ({{english}})` â€” é»˜è®¤ï¼Œå¦‚ã€Œçº³ä»€å‡è¡¡ (Nash Equilibrium)ã€
        - `{{english}} ({{chinese}})` â€” è‹±æ–‡ä¼˜å…ˆï¼Œå¦‚ã€ŒNash Equilibrium (çº³ä»€å‡è¡¡)ã€
        - `{{english}}` â€” çº¯è‹±æ–‡ï¼Œå¦‚ã€ŒNash Equilibriumã€
        - `{{chinese}}` â€” çº¯ä¸­æ–‡ï¼Œå¦‚ã€Œçº³ä»€å‡è¡¡ã€
        - `{{type_cn}}-{{chinese}}` â€” å¸¦ç±»å‹å‰ç¼€ï¼Œå¦‚ã€Œå®ä½“-çº³ä»€å‡è¡¡ã€
- **ä¾‹å¤–å¤„ç†**:
    - æ— å…±è¯†ä¸­æ–‡è¯‘åï¼šæ–‡ä»¶åç”¨è‹±æ–‡ï¼Œ`aliases` ä¸­è¡¥å……æè¿°æ€§ä¸­æ–‡ã€‚
    - æ•°å­¦ç¬¦å·/ç¼©å†™ï¼šä¿ç•™åŸå½¢å¼ï¼Œ`aliases` ä¸­ç»´æŠ¤è¯´æ˜ã€‚
- **è¿ååæœ**: å­¦æœ¯ç²¾ç¡®æ€§ä¸§å¤±ï¼Œæœç´¢å¬å›ç‡ä¸‹é™ã€‚

### A5. æœ¬åœ°ä¼˜å…ˆæ€§

> **ç´¢å¼•å­˜å‚¨æœ¬åœ°åŒ–**: å‘é‡æ•°æ®å¿…é¡»å­˜å‚¨äºæœ¬åœ°æ–‡ä»¶ï¼Œä¸ä¾èµ–å¤–éƒ¨å‘é‡æ•°æ®åº“æœåŠ¡ (Vector DB as a Service)ã€‚

- **å®æ–½è¦æ±‚**:
    - å…è®¸è°ƒç”¨å¤–éƒ¨ API (å¦‚ Google Embedding API) è¿›è¡Œå‘é‡è®¡ç®—ã€‚
    - å‘é‡æ•°æ®æœ¬èº«å¿…é¡»ä»¥ JSON å½¢å¼æŒä¹…åŒ–åœ¨ç”¨æˆ·æœ¬åœ° Vault ä¸­ã€‚
- **è¿ååæœ**: æ•°æ®è¿ç§»å›°éš¾ï¼Œå¢åŠ å¤–éƒ¨æœåŠ¡ä¾èµ–æˆæœ¬ã€‚

> **ç¦»çº¿å¯ç”¨æ€§è¯´æ˜**: ç¦»çº¿æ—¶ AI åŠŸèƒ½ï¼ˆå‘é‡åµŒå…¥ã€å†…å®¹ç”Ÿæˆã€äº‹å®æ ¸æŸ¥ç­‰ï¼‰ä¸å¯ç”¨ï¼Œä½†æœ¬åœ°æ•°æ®ï¼ˆå·²åˆ›å»ºçš„ç¬”è®°ã€å‘é‡ç´¢å¼•ã€é˜Ÿåˆ—çŠ¶æ€ï¼‰å¯æ­£å¸¸è®¿é—®å’Œæµè§ˆã€‚

### A6. æ¸è¿›æŠ«éœ²æ€§

> ç³»ç»Ÿå¤æ‚åº¦åº”æŒ‰ç”¨æˆ·ç†Ÿç»ƒåº¦é€æ­¥å±•ç°ã€‚

- **å®æ–½è¦æ±‚**:
    - æ–°ç”¨æˆ·é»˜è®¤å¯ç”¨ç®€åŒ–æ¨¡å¼
    - é«˜çº§åŠŸèƒ½å¯é€šè¿‡è®¾ç½®è§£é”
    - ç±»å‹åˆ¤æ–­ç”±ç³»ç»Ÿè‡ªåŠ¨å®Œæˆï¼Œç”¨æˆ·ä»…åœ¨å¿…è¦æ—¶ä»‹å…¥
    - æ–°ç”¨æˆ·æ— éœ€å®Œå…¨ç†è§£ Entity/Mechanism ç­‰æœ¯è¯­ï¼Œç³»ç»Ÿç”¨è‡ªç„¶è¯­è¨€æè¿°ç±»å‹å·®å¼‚
    - ç³»ç»Ÿè‡ªåŠ¨ç»™å‡ºåˆå§‹ç±»å‹å»ºè®®ï¼ˆPrinciple ä¸åœ¨æ¨æ–­æˆ–å¯é€‰èŒƒå›´å†…ï¼‰ï¼›ç”¨æˆ·å¯åœ¨ç¡®è®¤ç•Œé¢å¯¹å»ºè®®ç±»å‹è¿›è¡Œä¿®æ”¹ï¼ˆä»…é™é Principle ç±»å‹ï¼‰ï¼Œä¸€æ—¦ä¿®æ”¹ç³»ç»Ÿä¼šé‡æ–°æ‰§è¡Œå¯¹åº”çš„åŒç±»å‹å»é‡æ£€ç´¢ã€‚
- **è¿ååæœ**: æ–°ç”¨æˆ·æµå¤±ï¼Œç›®æ ‡ G3ã€G4 å¤±è´¥ã€‚

### A7. æ³¨æ„åŠ›å°Šé‡æ€§

> ç³»ç»Ÿé€šçŸ¥åº”å°Šé‡ç”¨æˆ·å½“å‰æ³¨æ„åŠ›çŠ¶æ€ã€‚

- **å®æ–½è¦æ±‚**:
    - ç”¨æˆ·æ´»è·ƒè¾“å…¥æ—¶ï¼Œä»…æ›´æ–°çŠ¶æ€æ æ•°å­—ï¼Œä¸å¼¹å‡ºé€šçŸ¥
    - å…æ‰“æ‰°æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰éå…³é”®é€šçŸ¥é™é»˜
- **è¿ååæœ**: æ‰“æ–­ç”¨æˆ·å¿ƒæµï¼Œé™ä½å·¥å…·ä¿¡ä»»åº¦ã€‚

## 3. é¢†åŸŸæ¨¡å‹

### 3.1 çŸ¥è¯†ç±»å‹å…³ç³»å›¾åŠæ ¸å¿ƒä½¿ç”¨é“¾æ¡

```mermaid
flowchart LR
    Domain -->|æ·±åŒ–| Issue
    Issue -->|æ·±åŒ–| Theory
    Theory -->|æ·±åŒ–| Entity
    Theory -->|æ·±åŒ–| Mechanism
    Mechanism -->|åˆæˆåŸç†| Principle
```

**æ ¸å¿ƒä½¿ç”¨é“¾æ¡**: Domain â†’ Issue â†’ Theory â†’ Entity/Mechanism â†’ Principle

æ³¨ï¼šPrinciple ä»…é€šè¿‡ Mechanism åˆæˆäº§ç”Ÿï¼Œä¸èƒ½é€šè¿‡æ™®é€šåˆ›å»ºæˆ–ç±»å‹æ¨æ–­ç”Ÿæˆã€‚

**æ“ä½œç±»å‹å®šä¹‰**:
- **æ·±åŒ– (Deepen)**: ä¸€å¯¹å¤šæ“ä½œï¼Œä»å•ä¸ªçˆ¶èŠ‚ç‚¹ç”Ÿæˆå¤šä¸ªå­èŠ‚ç‚¹åˆ—è¡¨
- **åˆæˆ (Synthesize)**: å¤šå¯¹ä¸€æ“ä½œï¼Œä»å¤šä¸ªæºèŠ‚ç‚¹æŠ½è±¡å‡ºå•ä¸ªæ–°èŠ‚ç‚¹

**å„ç±»å‹æ“ä½œè§„åˆ™**:
- **Domain**ï¼ˆçŸ¥è¯†è¾¹ç•Œåˆ’åˆ†ï¼‰ï¼šæ”¯æŒ**æ·±åŒ–**ï¼Œäº§ç”Ÿè¯¥é¢†åŸŸçš„ **Issue**ï¼ˆè®®é¢˜ï¼‰åˆ—è¡¨
- **Issue**ï¼ˆé¢†åŸŸçš„é—®é¢˜ç©ºé—´ï¼‰ï¼šæ”¯æŒ**æ·±åŒ–**ï¼Œäº§ç”Ÿå°è¯•è§£å†³è¯¥è®®é¢˜çš„ **Theory**ï¼ˆç†è®ºï¼‰åˆ—è¡¨
- **Theory**ï¼ˆè®®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼‰ï¼šæ”¯æŒ**æ·±åŒ–**ï¼Œæå–è¯¥ç†è®ºå®šä¹‰çš„ **Entity**ï¼ˆå®ä½“ï¼‰å’Œæè¿°çš„ **Mechanism**ï¼ˆæœºåˆ¶ï¼‰åˆ—è¡¨
- **Entity**: æ— æ·±åŒ–æ“ä½œï¼Œæ— åˆæˆæ“ä½œ
- **Mechanism**: **æ— æ·±åŒ–æ“ä½œ**ï¼›ä½†æ”¯æŒ**åˆæˆ**æ“ä½œâ€”â€”é€‰æ‹© â‰¥2 ä¸ªä¸åŒçš„ Mechanism åˆæˆ **Principle**
- **Principle**: æ— æ·±åŒ–æ“ä½œï¼Œæ— åˆæˆæ“ä½œï¼›åªèƒ½é€šè¿‡ Mechanism çš„åˆæˆæ“ä½œäº§ç”Ÿ

ç³»ç»Ÿæ”¯æŒä»é“¾æ¡ä»»æ„èŠ‚ç‚¹å¼€å§‹æ“ä½œï¼Œä½†æ¨èçš„å®Œæ•´æµç¨‹æ˜¯æ²¿ä¸Šè¿°é“¾æ¡å±•å¼€ã€‚

### 3.2 å„ç±»å‹è¯¦ç»†å®šä¹‰

> **è®¾è®¡åŸåˆ™**: æœ¬èŠ‚è®¾è®¡éµå¾ª **G2 ç›®æ ‡ï¼ˆæœ€å¤§åŒ–ä¿¡æ¯å¯†åº¦ï¼‰**â€”â€”æ¯ä¸ªç¬”è®°å¿…é¡»è‡ªè¶³å®Œå¤‡ï¼Œè¯»è€…ä»…å‡­è¯¥ç¬”è®°æœ¬èº«å³å¯å®Œå…¨ç†è§£è¯¥æ¦‚å¿µçš„æœ¬è´¨ï¼Œæ— éœ€è·³è½¬å…¶ä»–ç¬”è®°ã€‚å­—æ®µè®¾è®¡åŸºäºäºšé‡Œå£«å¤šå¾·å››å› è¯´ï¼ˆè´¨æ–™å› ã€å½¢å¼å› ã€åŠ¨åŠ›å› ã€ç›®çš„å› ï¼‰ä¸ç°ä»£è®¤è¯†è®ºï¼Œç¡®ä¿è¦†ç›–ç†è§£ä¸€ä¸ªæ¦‚å¿µæ‰€éœ€çš„å…¨éƒ¨æœ¬è´¨æ€§é—®é¢˜ã€‚

#### 3.2.1 Domain (é¢†åŸŸ)

**æœ¬è´¨**: çŸ¥è¯†çš„è¾¹ç•Œåˆ’åˆ†ï¼Œå®šä¹‰"ä»€ä¹ˆå±äº/ä¸å±äºè¿™ä¸ªå­¦ç§‘"
**å®Œå¤‡æ€§é—®é¢˜**: è¦å®Œå…¨ç†è§£ä¸€ä¸ªé¢†åŸŸï¼Œå¿…é¡»å›ç­”ï¼š
1. å®ƒç ”ç©¶ä»€ä¹ˆï¼Ÿï¼ˆå¯¹è±¡ï¼‰
2. å®ƒä¸ºä½•å­˜åœ¨ï¼Ÿï¼ˆç›®çš„ï¼‰
3. å®ƒå¦‚ä½•éªŒè¯çŸ¥è¯†ï¼Ÿï¼ˆæ–¹æ³•ï¼‰
4. å®ƒä»ä½•è€Œæ¥ï¼Ÿï¼ˆèµ·æºï¼‰
5. å®ƒçš„è¾¹ç•Œåœ¨å“ªï¼Ÿï¼ˆèŒƒå›´ï¼‰
6. å®ƒåŒ…å«å“ªäº›æ ¸å¿ƒé—®é¢˜ï¼Ÿï¼ˆè®®é¢˜ï¼‰
**å¿…è¦å­—æ®µ**:

| å­—æ®µ                       | ä¸­æ–‡å  | å“²å­¦ä¾æ®  | è¯´æ˜                        |
|:----------------------- |:--- |:---- |:------------------------ |
| `definition`             | å®šä¹‰   | å½¢å¼å›    | è¯¥é¢†åŸŸç ”ç©¶ä»€ä¹ˆå¯¹è±¡ï¼Ÿ|
| `teleology`              | ç›®çš„è®º  | ç›®çš„å›    | è¯¥é¢†åŸŸè¯•å›¾å›ç­”ä»€ä¹ˆé—®é¢˜ï¼Ÿè§£å†³ä»€ä¹ˆéœ€æ±‚ï¼Ÿ|
| `methodology`            | æ–¹æ³•è®º  | åŠ¨åŠ›å›    | è¯¥é¢†åŸŸå¦‚ä½•ç”Ÿäº§å’ŒéªŒè¯çŸ¥è¯†ï¼Ÿ|
| `historical_genesis`     | å†å²èµ·æº | è´¨æ–™å›    | è¯¥é¢†åŸŸä½•æ—¶ã€ä¸ºä½•ã€å¦‚ä½•äº§ç”Ÿï¼Ÿ|
| `boundaries`             | è¾¹ç•Œ   | å¦å®šæ€§å®šä¹‰ | è¯¥é¢†åŸŸæ˜ç¡®**ä¸**ç ”ç©¶ä»€ä¹ˆï¼Ÿä¸ç›¸é‚»é¢†åŸŸçš„åˆ†ç•Œçº¿ï¼Ÿ|
| `issues`                 | è®®é¢˜   | é—®é¢˜ç©ºé—´  | è¯¥é¢†åŸŸçš„è®®é¢˜åˆ—è¡¨                  |
| `holistic_understanding` | æ•´ä½“ç†è§£ | ç»¼åˆ    | è‡ªç”±å½¢å¼çš„æ·±åº¦ç»¼è¿°ï¼Œå°†ä¸Šè¿°è¦ç´ èä¼šè´¯é€š       |

**å¯é€‰ç»“æ„å­—æ®µ**:

| å­—æ®µ | ä¸­æ–‡å | è¯´æ˜ |
|:-- |:-- |:-- |
| `sub_domains` | å­é¢†åŸŸ | è‹¥éåŸå­é¢†åŸŸï¼ŒæŒ‰æ¸…æ™°çš„åˆ†ç±»ç»´åº¦è¿›è¡Œåˆ’åˆ† |

**è®®é¢˜å®Œå¤‡æ€§ï¼šä¸ºäº†ç¡®ä¿ç³»ç»Ÿç»™å‡ºçš„è®®é¢˜æ˜¯å®Œå¤‡çš„ï¼Œæˆ‘ä»¬è¦æ±‚ï¼š**è®®é¢˜å®Œå¤‡æ€§å…¬å¼**: é¢†åŸŸè®®é¢˜ = Î£(å„å­é¢†åŸŸè®®é¢˜) + æœ¬é¢†åŸŸæ¶Œç°è®®é¢˜ï¼ˆä¸å±äºä»»ä½•å­é¢†åŸŸçš„è®®é¢˜ï¼‰ï¼ŒDomain ç±»å‹ç¬”è®°çš„ `issues` å­—æ®µåº”è¯¥ç»™å‡ºçš„æ˜¯æœ¬é¢†åŸŸæ¶Œç°è®®é¢˜ï¼Œå­é¢†åŸŸè®®é¢˜åœ¨å­é¢†åŸŸè‡ªå·±çš„ç¬”è®°ä¸­ç»™å‡ºã€‚
**å­é¢†åŸŸåˆ’åˆ†è§„èŒƒ**:
1. **åˆ†ç±»ç»´åº¦**: å¿…é¡»æ˜ç¡®å£°æ˜åˆ’åˆ†æ‰€ä¾æ®çš„ç»´åº¦ï¼ˆå¦‚ï¼šç ”ç©¶å¯¹è±¡ã€ç ”ç©¶æ–¹æ³•ã€åº”ç”¨åœºæ™¯ç­‰ï¼‰ï¼Œå¯ä½¿ç”¨æ··åˆç»´åº¦
2. **ç©·å°½ä¼˜å…ˆ**ï¼Œæ— é‡å å…¶æ¬¡: å®å¯å¤šåˆ’ä¸å¯æ¼åˆ’â€”â€”é—æ¼çš„å±å®³è¿œå¤§äºé‡å çš„å±å®³
    è¯´æ˜ï¼šæ­¤å¤„çš„â€œç©·å°½ä¼˜å…ˆâ€æŒ‡ç¤ºåˆ’åˆ†ç»´åº¦ä¸è®®é¢˜è¦†ç›–è¦è¶³å¤Ÿå…¨é¢ï¼Œæ—¨åœ¨é¿å…é—æ¼é‡è¦é—®é¢˜ç©ºé—´ï¼›å®ƒå¹¶ä¸æ„å‘³ç€å…è®¸åŒä¸€è¯­ä¹‰æ¦‚å¿µåœ¨åŒç±»å‹ä¸­é‡å¤åˆ›å»ºã€‚ç³»ç»Ÿä»ç„¶éµå¾ª A1 çš„è¯­ä¹‰å”¯ä¸€æ€§çº¦æŸï¼Œå¯¹åŒç±»å‹çš„è¯­ä¹‰ç­‰ä»·æ¦‚å¿µæ‰§è¡Œå»é‡ä¸é˜»æ–­ã€‚
3. **æƒå¨éªŒè¯**: å¿…é¡»å‚ç…§æƒå¨æ¥æºéªŒè¯åˆ’åˆ†ä½“ç³»ï¼ˆå¦‚ï¼šé¡¶å°–æ•™ç§‘ä¹¦ç›®å½•ã€æƒå¨å­¦æœ¯å­¦ä¼šåˆ†ç±»æ³•ã€å­¦ç§‘è¯„ä¼°ä½“ç³»ç­‰ï¼‰
4. **äº¤å‰å¤„ç†**: å¯¹äºäº¤å‰é¢†åŸŸï¼Œå…è®¸åœ¨å¤šä¸ªçˆ¶é¢†åŸŸä¸‹åŒæ—¶å‡ºç°
5. åˆ©ç”¨åµŒå…¥æ¨¡å‹ç›¸ä¼¼åº¦+æç¤ºè¯ï¼Œå°½å¯èƒ½å»é‡ã€‚

#### 3.2.2 Issue (è®®é¢˜)

**æœ¬è´¨**: å°šæœªå®Œå…¨è§£å†³çš„é—®é¢˜ï¼Œå­˜åœ¨æ ¸å¿ƒçŸ›ç›¾
**å®Œå¤‡æ€§é—®é¢˜**: è¦å®Œå…¨ç†è§£ä¸€ä¸ªè®®é¢˜ï¼Œå¿…é¡»å›ç­”ï¼š
1. çŸ›ç›¾çš„åŒæ–¹æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆå¼ åŠ›ï¼‰
2. ä¸ºä»€ä¹ˆè¿™æ˜¯ä¸ªé—®é¢˜ï¼Ÿï¼ˆé‡è¦æ€§ï¼‰
3. è°å…³å¿ƒè¿™ä¸ªé—®é¢˜ï¼Ÿï¼ˆåˆ©ç›Šç›¸å…³è€…ï¼‰
4. ä»€ä¹ˆæ—¶å€™è¿™ä¸æ˜¯é—®é¢˜ï¼Ÿï¼ˆè¾¹ç•Œæ¡ä»¶ï¼‰
5. æœ‰å“ªäº›å°è¯•è§£å†³å®ƒçš„æ–¹æ¡ˆï¼Ÿï¼ˆç†è®ºæ™¯è§‚ï¼‰

| å­—æ®µ                         | ä¸­æ–‡å     | å“²å­¦ä¾æ®  | è¯´æ˜                       |
|:------------------------- |:------ |:---- |:----------------------- |
| `core_tension`             | æ ¸å¿ƒå¼ åŠ›    | çŸ›ç›¾å¾‹   | å¿…é¡»è¡¨è¿°ä¸º "X vs Y" æ ¼å¼ï¼Œæ­ç¤ºæ ¹æœ¬å¯¹ç«‹ |
| `significance`             | é‡è¦æ€§     | ä»·å€¼è®º   | ä¸ºä»€ä¹ˆè¿™æ˜¯ä¸ªé—®é¢˜ï¼Ÿè¯¥è®®é¢˜çš„é‡è¦æ€§å’Œå½±å“èŒƒå›´ |
| `historical_genesis`       | å†å²èµ·æº    | æ—¶é—´æ€§   | è¯¥è®®é¢˜ä½•æ—¶è¢«è¯†åˆ«ï¼Ÿä»€ä¹ˆäº‹ä»¶è§¦å‘äº†å®ƒï¼Ÿ|
| `structural_analysis`      | ç»“æ„åˆ†æ    | åˆ†è§£    | å°†è®®é¢˜æ‹†è§£ä¸ºå­é—®é¢˜ï¼Œæ­ç¤ºå†…éƒ¨é€»è¾‘ç»“æ„       |
| `stakeholder_perspectives` | åˆ©ç›Šç›¸å…³è€…è§†è§’ | ä¸»ä½“é—´æ€§  | ä¸åŒç«‹åœºçš„äººå¦‚ä½•çœ‹å¾…æ­¤è®®é¢˜ï¼Ÿ|
| `boundary_conditions`      | è¾¹ç•Œæ¡ä»¶    | å¦å®šæ€§å®šä¹‰ | åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹è¯¥è®®é¢˜**ä¸**æˆç«‹æˆ–ä¸ç›¸å…³ï¼Ÿ|
| `holistic_understanding`   | æ•´ä½“ç†è§£    | ç»¼åˆ    | è‡ªç”±å½¢å¼çš„æ·±åº¦ç»¼è¿°                |
| `theories`                 | ç†è®ºåˆ—è¡¨    | è§£ç©ºé—´   | å°è¯•è§£å†³æ­¤è®®é¢˜çš„å„ç§ç†è®ºï¼ˆä¸»æµ/è¾¹ç¼˜/å·²è¯ä¼ªï¼‰|

**ç†è®ºåˆ—è¡¨è§„èŒƒ**:
1. **ç©·å°½ä¼˜å…ˆ**ï¼Œæ— é‡å å…¶æ¬¡: å®å¯å¤šåˆ’ä¸å¯æ¼åˆ’â€”â€”é—æ¼çš„å±å®³è¿œå¤§äºé‡å çš„å±å®³ã€‚
2. æŒ‰ç…§ä¸»æµ/è¾¹ç¼˜/å·²è¯ä¼ªï¼Œåˆ†ç±»åœ°ç»™å‡ºç†è®ºåˆ—è¡¨ã€‚
3. åˆ©ç”¨åµŒå…¥æ¨¡å‹ç›¸ä¼¼åº¦+æç¤ºè¯ï¼Œå°½å¯èƒ½å»é‡

#### 3.2.3 Theory (ç†è®º)

**æœ¬è´¨**: ä»å…¬ç†å‡ºå‘çš„é€»è¾‘æ¨æ¼”ä½“ç³»
**å®Œå¤‡æ€§é—®é¢˜**: è¦å®Œå…¨ç†è§£ä¸€ä¸ªç†è®ºï¼Œå¿…é¡»å›ç­”ï¼š
1. å®ƒçš„åŸºç¡€å‡è®¾æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆå…¬ç†ï¼‰
2. å®ƒå¦‚ä½•ä»å‡è®¾æ¨å‡ºç»“è®ºï¼Ÿï¼ˆè®ºè¯é“¾ï¼‰
3. å®ƒé¢„æµ‹äº†ä»€ä¹ˆå¯æ£€éªŒçš„ç»“æœï¼Ÿï¼ˆå¯è¯ä¼ªæ€§ï¼‰
4. å®ƒé€‚ç”¨äºå“ªäº›æƒ…å†µï¼Ÿï¼ˆé€‚ç”¨èŒƒå›´ï¼‰
5. å®ƒæœ‰ä»€ä¹ˆå·²çŸ¥ç¼ºé™·ï¼Ÿï¼ˆå±€é™æ€§ï¼‰
6. å®ƒå®šä¹‰äº†å“ªäº›å®ä½“ï¼Œæè¿°äº†å“ªäº›æœºåˆ¶ï¼Ÿï¼ˆç»„ä»¶ï¼‰
**å¿…è¦å­—æ®µ**:

| å­—æ®µ | ä¸­æ–‡å | å“²å­¦ä¾æ® | è¯´æ˜ |
|:-- |:-- |:-- |:-- |
| `axioms` | å…¬ç† | ç¬¬ä¸€åŸç† | ä¸è¯è‡ªæ˜çš„åŸºç¡€å‡è®¾ï¼Œæ¯æ¡éœ€é™„å¸¦æ­£å½“æ€§è¯´æ˜ |
| `argument_chain` | è®ºè¯é“¾ | æ¼”ç»æ¨ç† | ä»å…¬ç†åˆ°ç»“è®ºçš„å®Œæ•´æ¨å¯¼ï¼Œæ¯æ­¥å¿…é¡»æœ‰é€»è¾‘è¿æ¥è¯ï¼ˆå› æ­¤ã€æ‰€ä»¥ã€è‹¥... åˆ™...ï¼‰|
| `core_predictions` | æ ¸å¿ƒé¢„æµ‹ | å¯è¯ä¼ªæ€§ | è¯¥ç†è®ºåšå‡ºçš„å¯æ£€éªŒé¢„æµ‹ |
| `scope_and_applicability` | é€‚ç”¨èŒƒå›´ | è¾¹ç•Œ | è¯¥ç†è®ºåœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹æœ‰æ•ˆï¼Ÿ|
| `limitations` | å±€é™æ€§ | æ‰¹åˆ¤æ€§ | å·²çŸ¥çš„ç¼ºé™·ã€æ— æ³•è§£é‡Šçš„ç°è±¡ |
| `historical_development` | å†å²å‘å±• | èµ·æº | è¯¥ç†è®ºçš„åˆ›ç«‹ã€æ¼”å˜å’Œä¿®æ­£å†ç¨‹ |
| `extracted_components` | æå–çš„ç»„ä»¶ | æ ¸å¿ƒäº§å‡º | è¯¥ç†è®ºå®šä¹‰çš„å®ä½“ (Entity) å’Œæè¿°çš„æœºåˆ¶ (Mechanism) |
| `holistic_understanding` | æ•´ä½“ç†è§£ | ç»¼åˆ | è‡ªç”±å½¢å¼çš„æ·±åº¦ç»¼è¿° |

**ç»„ä»¶æå–è§„èŒƒ**:
1. **ç©·å°½ä¼˜å…ˆ**: å®å¯å¤šæå–ä¸å¯æ¼æå–â€”â€”é—æ¼å®ä½“/æœºåˆ¶çš„å±å®³è¿œå¤§äºé‡å¤æå–çš„å±å®³
2. æŒ‰ç…§å®ä½“/æœºåˆ¶ï¼Œåˆ†ç±»åœ°ç»™å‡ºç»„ä»¶åˆ—è¡¨ã€‚
3. åˆ©ç”¨åµŒå…¥æ¨¡å‹ç›¸ä¼¼åº¦+æç¤ºè¯ï¼Œå°½å¯èƒ½å»é‡

#### 3.2.4 Entity (å®ä½“)

**æœ¬è´¨**: é™æ€æ¦‚å¿µï¼Œå¯åœ¨ä¸å¼•ç”¨æ—¶é—´/è¿‡ç¨‹çš„å‰æä¸‹å®Œæˆå®šä¹‰
**å®Œå¤‡æ€§é—®é¢˜**: è¦å®Œå…¨ç†è§£ä¸€ä¸ªå®ä½“ï¼Œå¿…é¡»å›ç­”ï¼š
1. å®ƒæ˜¯ä»€ä¹ˆï¼Ÿï¼ˆå®šä¹‰ï¼‰
2. å®ƒå±äºå“ªä¸ªç±»åˆ«ï¼Ÿï¼ˆåˆ†ç±»ï¼‰
3. å®ƒæœ‰ä»€ä¹ˆå±æ€§ï¼Ÿï¼ˆæ€§è´¨ï¼‰
4. å®ƒä¸å…¶ä»–äº‹ç‰©æœ‰ä½•ä¸åŒï¼Ÿï¼ˆåŒºåˆ†ç‰¹å¾ï¼‰
5. ä»€ä¹ˆæ˜¯å®ƒï¼Ÿä»€ä¹ˆä¸æ˜¯å®ƒï¼Ÿï¼ˆä¾‹å­ä¸åä¾‹ï¼‰

| å­—æ®µ | ä¸­æ–‡å | å“²å­¦ä¾æ® | è¯´æ˜ |
|:-- |:-- |:-- |:-- |
| `definition` | å®šä¹‰ | æœ¬è´¨ | è¯¥å®ä½“æ˜¯ä»€ä¹ˆï¼Ÿä½¿ç”¨å±åŠ ç§å·®å®šä¹‰æ³• |
| `classification` | åˆ†ç±» | èŒƒç•´ | è¯¥å®ä½“å±äºå“ªä¸ªä¸Šä½ç±»ï¼Ÿä¸åŒçº§æ¦‚å¿µçš„å…³ç³»ï¼Ÿ|
| `properties` | å±æ€§ | å¶æ€§ | è¯¥å®ä½“çš„å¯æµ‹é‡/å¯è§‚å¯Ÿç‰¹å¾ï¼ŒåŒ…æ‹¬å¯èƒ½å–å€¼å’Œåº¦é‡æ–¹å¼ |
| `distinguishing_features` | åŒºåˆ†ç‰¹å¾ | ä¸ªä½“åŒ–åŸåˆ™ | ä½¿è¯¥å®ä½“åŒºåˆ«äºç›¸ä¼¼æ¦‚å¿µçš„å…³é”®ç‰¹å¾ |
| `examples` | æ­£ä¾‹ | å¤–å»¶ | å…¸å‹çš„ã€å±äºè¯¥å®ä½“çš„å®ä¾‹ |
| `counter_examples` | åä¾‹ | å¦å®šå¤–å»¶ | å®¹æ˜“è¯¯è®¤ä¸ºæ˜¯è¯¥å®ä½“ã€ä½†å®é™…ä¸æ˜¯çš„å®ä¾‹ |
| `holistic_understanding` | æ•´ä½“ç†è§£ | ç»¼åˆ | è‡ªç”±å½¢å¼çš„æ·±åº¦ç»¼è¿° |

**å…³ç³»å­—æ®µ**:

| å­—æ®µ | ä¸­æ–‡å | è¯´æ˜ |
|:-- |:-- |:-- |
| `is_a` | ä¸Šä½ç±» | è¯¥å®ä½“æ˜¯ä»€ä¹ˆçš„ä¸€ç§ï¼Ÿ|
| `has_parts` | ç»„æˆéƒ¨åˆ† | è¯¥å®ä½“ç”±å“ªäº›éƒ¨åˆ†æ„æˆï¼Ÿ|
| `related_to` | ç›¸å…³æ¦‚å¿µ | å…¶ä»–ç›¸å…³ä½†éå±‚çº§å…³ç³»çš„å®ä½“ |

#### 3.2.5 Mechanism (æœºåˆ¶)

**æœ¬è´¨**: åŠ¨æ€è¿‡ç¨‹ï¼Œæè¿°çŠ¶æ€å˜åŒ–æˆ–å› æœé“¾
**å®Œå¤‡æ€§é—®é¢˜**: è¦å®Œå…¨ç†è§£ä¸€ä¸ªæœºåˆ¶ï¼Œå¿…é¡»å›ç­”ï¼š
1. å®ƒæ˜¯ä»€ä¹ˆè¿‡ç¨‹ï¼Ÿï¼ˆå®šä¹‰ï¼‰
2. ä»€ä¹ˆè§¦å‘å®ƒï¼Ÿï¼ˆå¯åŠ¨æ¡ä»¶ï¼‰
3. å®ƒå¦‚ä½•ä¸€æ­¥æ­¥è¿›è¡Œï¼Ÿï¼ˆå› æœé“¾ï¼‰
4. å®ƒä»€ä¹ˆæ—¶å€™ç»“æŸï¼Ÿï¼ˆç»ˆæ­¢æ¡ä»¶ï¼‰
5. å®ƒä½œç”¨äºä»€ä¹ˆï¼Ÿäº§ç”Ÿä»€ä¹ˆï¼Ÿï¼ˆè¾“å…¥è¾“å‡ºï¼‰

| å­—æ®µ | ä¸­æ–‡å | å“²å­¦ä¾æ® | è¯´æ˜ |
|:-- |:-- |:-- |:-- |
| `definition` | å®šä¹‰ | æœ¬è´¨ | è¯¥æœºåˆ¶æ˜¯ä»€ä¹ˆè¿‡ç¨‹ï¼Ÿ|
| `trigger_conditions` | è§¦å‘æ¡ä»¶ | åŠ¨åŠ›å›  | ä»€ä¹ˆæ¡ä»¶ä¸‹è¯¥æœºåˆ¶å¯åŠ¨ï¼Ÿ|
| `causal_chain` | å› æœé“¾ | å› æœæ€§ | æŒ‰æ­¥éª¤æè¿°ï¼šç¬¬ N æ­¥åšä»€ä¹ˆâ†’äº§ç”Ÿä»€ä¹ˆç»“æœï¼ˆè‡³å°‘ 2 æ­¥ï¼‰|
| `termination_conditions` | ç»ˆæ­¢æ¡ä»¶ | è¾¹ç•Œ | ä»€ä¹ˆæ¡ä»¶ä¸‹è¯¥æœºåˆ¶åœæ­¢ï¼Ÿ|
| `inputs` | è¾“å…¥ | è´¨æ–™å›  | è¯¥æœºåˆ¶éœ€è¦ä»€ä¹ˆå‰ææ¡ä»¶/èµ„æºï¼Ÿ|
| `outputs` | è¾“å‡º | ç›®çš„å›  | è¯¥æœºåˆ¶äº§ç”Ÿä»€ä¹ˆç»“æœ/æ•ˆæœï¼Ÿ|
| `process_description` | è¿‡ç¨‹æè¿° | å™äº‹ | å¯¹æ•´ä¸ªè¿‡ç¨‹çš„è¿è´¯æ–‡å­—æè¿° |
| `examples` | å®ä¾‹ | å¤–å»¶ | è¯¥æœºåˆ¶çš„å…¸å‹åº”ç”¨åœºæ™¯ |
| `holistic_understanding` | æ•´ä½“ç†è§£ | ç»¼åˆ | è‡ªç”±å½¢å¼çš„æ·±åº¦ç»¼è¿° |

**å…³ç³»å­—æ®µ**:

| å­—æ®µ | ä¸­æ–‡å | è¯´æ˜ |
|:-- |:-- |:-- |
| `operates_on` | ä½œç”¨å¯¹è±¡ | è¯¥æœºåˆ¶ä½œç”¨äºå“ªäº›å®ä½“ï¼Ÿ(â‰¥1 ä¸ª) |
| `produces` | äº§å‡º | è¯¥æœºåˆ¶äº§ç”Ÿå“ªäº›æ–°å®ä½“æˆ–çŠ¶æ€ï¼Ÿ|
| `requires` | ä¾èµ– | è¯¥æœºåˆ¶ä¾èµ–å“ªäº›å…¶ä»–æœºåˆ¶ï¼Ÿ|
| `inhibited_by` | æŠ‘åˆ¶å› ç´  | ä»€ä¹ˆä¼šé˜»æ­¢æˆ–å‰Šå¼±è¯¥æœºåˆ¶ï¼Ÿ|

#### 3.2.6 Principle (åŸç†)

**æœ¬è´¨**: è·¨æœºåˆ¶æŠ½è±¡ï¼Œä»å¤šä¸ªæœºåˆ¶ä¸­æå–çš„ç»“æ„ä¸å˜é‡
**å®Œå¤‡æ€§é—®é¢˜**: è¦å®Œå…¨ç†è§£ä¸€ä¸ªåŸç†ï¼Œå¿…é¡»å›ç­”ï¼š
1. å®ƒçš„å½¢å¼åŒ–è¡¨è¿°æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆå…¬å¼ï¼‰
2. å…¶ä¸­çš„å˜é‡ä»£è¡¨ä»€ä¹ˆï¼Ÿï¼ˆè¯­ä¹‰ï¼‰
3. å®ƒåœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹æˆç«‹ï¼Ÿï¼ˆçº¦æŸï¼‰
4. å®ƒåœ¨ä¸åŒé¢†åŸŸå¦‚ä½•ä½“ç°ï¼Ÿï¼ˆåŒæ„æ˜ å°„ï¼‰
5. å®ƒèƒ½é¢„æµ‹ä»€ä¹ˆæ–°ç°è±¡ï¼Ÿï¼ˆé¢„æµ‹åŠ›ï¼‰

| å­—æ®µ | ä¸­æ–‡å | å“²å­¦ä¾æ® | è¯´æ˜ |
|:-- |:-- |:-- |:-- |
| `formal_statement` | å½¢å¼åŒ–é™ˆè¿° | é€»è¾‘å½¢å¼ | å¿…é¡»ä¸º "è‹¥[æ¡ä»¶]ï¼Œåˆ™[ç»“æœ]" æ ¼å¼ |
| `mathematical_form` | æ•°å­¦å½¢å¼ | å½¢å¼åŒ– | LaTeX è¡¨è¾¾å¼ï¼ˆè‹¥é€‚ç”¨ï¼‰|
| `variables` | å˜é‡å®šä¹‰ | è¯­ä¹‰ | å½¢å¼é™ˆè¿°ä¸­æ¯ä¸ªæŠ½è±¡å˜é‡çš„å«ä¹‰ |
| `scope_and_constraints` | é€‚ç”¨èŒƒå›´ä¸çº¦æŸ | è¾¹ç•Œ | è¯¥åŸç†åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹æˆç«‹ï¼Ÿ|
| `isomorphism_analysis` | åŒæ„åˆ†æ | ç»“æ„æ˜ å°„ | è¯¥åŸç†åœ¨ä¸åŒé¢†åŸŸä¸­å¦‚ä½•ä½“ç°ï¼Ÿå…·ä½“å˜é‡å¦‚ä½•å¯¹åº”ï¼Ÿ|
| `predictive_power` | é¢„æµ‹åŠ› | ç§‘å­¦ä»·å€¼ | è¯¥åŸç†èƒ½é¢„æµ‹å“ªäº›æ–°ç°è±¡ï¼Ÿå¯åº”ç”¨äºå“ªäº›æ–°é¢†åŸŸï¼Ÿ|
| `historical_precedents` | å†å²å…ˆä¾‹ | èµ·æº | è¯¥åŸç†æ˜¯å¦æ›¾ä»¥å…¶ä»–åç§°è¢«å‘ç°ï¼Ÿ|
| `holistic_understanding` | æ•´ä½“ç†è§£ | ç»¼åˆ | è‡ªç”±å½¢å¼çš„æ·±åº¦ç»¼è¿° |

**å…³ç³»å­—æ®µ**:

| å­—æ®µ | ä¸­æ–‡å | è¯´æ˜ |
|:-- |:-- |:-- |
| `source_mechanisms` | æ¥æºæœºåˆ¶ | è¯¥åŸç†ä»å“ªäº›æœºåˆ¶ä¸­æŠ½è±¡è€Œæ¥ï¼Ÿå¿…é¡»æ¥è‡ª â‰¥2 ä¸ªä¸åŒçš„æœºåˆ¶ |

### 3.3 å»é‡æ£€æŸ¥å®ç°æœºåˆ¶

> **æœ¯è¯­å®šä¹‰**: **æ¦‚å¿µç­¾å (Concept Signature)** æ˜¯ç”¨äºè¯­ä¹‰å»é‡å’Œä¸Šä¸‹æ–‡æ£€ç´¢çš„å‘é‡è¡¨ç¤ºï¼ŒåŸºäº `Title + Aliases + CoreDefinition` è®¡ç®—ï¼ˆè¯¦è§ 4.6 èŠ‚ï¼‰ã€‚

**ä¸¤é˜¶æ®µå»é‡ç­–ç•¥**ï¼š
1. **åˆ›å»ºå‰æ£€æŸ¥**ï¼ˆåŒç±»å‹å»é‡ï¼‰ï¼šç”¨æˆ·è¾“å…¥æ¦‚å¿µåï¼Œç³»ç»Ÿä¾æ¬¡æ‰§è¡Œï¼š**æ ‡å‡†åŒ–ä¸ç±»å‹æ¨æ–­** â†’ **ç”Ÿæˆåˆ«å (Enrich)** â†’ **æ„å»ºæ¦‚å¿µç­¾å (Stub Signature)** â†’ **å‘é‡åµŒå…¥**ã€‚éšåï¼Œç³»ç»ŸåŸºäºè¯¥ç­¾ååœ¨**åŒç±»å‹**èŠ‚ç‚¹ä¸­è¿›è¡Œå‘é‡ç›¸ä¼¼åº¦æ£€ç´¢ã€‚è‹¥ç›¸ä¼¼åº¦ >= dedupThresholdï¼ˆé»˜è®¤ 0.9ï¼‰ï¼Œåˆ™åœ¨ä¾§è¾¹æ å±•ç¤ºåŒ¹é…å€™é€‰ï¼Œç”±ç”¨æˆ·å†³å®šæ˜¯å¦ä»è¦åˆ›å»ºã€‚
2. **ç”Ÿæˆæ—¶æ£€æŸ¥**ï¼ˆåŒç±»å‹ä¸Šä¸‹æ–‡ï¼‰ï¼šAgent ç”Ÿæˆç¬”è®°å†…å®¹æ—¶ï¼Œé€šè¿‡ `VectorIndex` æ£€ç´¢**åŒç±»å‹** Top-N ç›¸ä¼¼èŠ‚ç‚¹ï¼ˆåŸºäº**æ¦‚å¿µç­¾å**ï¼‰ï¼Œå¹¶å°†è¿™äº›èŠ‚ç‚¹çš„æ ‡é¢˜å’Œå†…å®¹æ‘˜è¦ä½œä¸ºä¸Šä¸‹æ–‡æä¾›ç»™ Agentï¼Œå¸®åŠ© Agent é¿å…ç”Ÿæˆä¸å·²æœ‰ç¬”è®°é‡å¤çš„å†…å®¹ï¼Œå¹¶é¼“åŠ±å»ºç«‹åŒé“¾å¼•ç”¨ã€‚

**å»é‡ vs ä¸Šä¸‹æ–‡å‚è€ƒçš„è¾¹ç•Œæ¾„æ¸…**ï¼š
- **å»é‡æ£€æŸ¥**: ä¸¥æ ¼é™äº**åŒç±»å‹**èŠ‚ç‚¹ï¼Œç”¨äºé˜²æ­¢è¯­ä¹‰é‡å¤ï¼ˆæœåŠ¡ A1 å…¬ç†ï¼‰
- **ä¸Šä¸‹æ–‡å‚è€ƒ**: Agent åœ¨ç”Ÿæˆå†…å®¹æ—¶ï¼Œå¯æ ¹æ®éœ€è¦å‚è€ƒ**è·¨ç±»å‹**èŠ‚ç‚¹ï¼ˆå¦‚ Agent C ç”Ÿæˆ Theory æ—¶ï¼Œå¯å‚è€ƒå·²æœ‰çš„ Entity/Mechanism ä»¥å»ºç«‹åŒé“¾ï¼‰ï¼Œä½†è¿™ä¸å½±å“å»é‡åˆ¤å®š

## 4. ç³»ç»Ÿæ¶æ„

### 4.1 ç»„ä»¶æ¦‚è§ˆ

**ç»„ä»¶èŒè´£ä¸é—®é¢˜/ç›®æ ‡æ˜ å°„**:

| ç»„ä»¶                | èŒè´£                                                 | æœåŠ¡çš„é—®é¢˜/ç›®æ ‡               |
|:---------------- |:------------------------------------------------- |:--------------------- |
| **CommandMgr**    | æ³¨å†Œå’Œåˆ†å‘å‘½ä»¤ï¼Œå‘½ä»¤çš„è®¾è®¡ç›®çš„åœ¨äºä¾¿äºè®¾ç½®å¿«æ·é”®ï¼Œæ’ä»¶æ ¸å¿ƒçš„æ“ä½œåº”è¯¥ä¸»è¦åœ¨ SidePanel ä¸­å®ç°ã€‚| G4 (æ“ä½œæ‘©æ“¦)              |
| **SidePanel**     | æ’ä»¶çš„æ ¸å¿ƒï¼Œæ¸²æŸ“ä¾§è¾¹æ ï¼Œæ˜¾ç¤ºçŠ¶æ€ã€æ“ä½œã€é˜Ÿåˆ—                             | G3 (è®¤çŸ¥è´Ÿè½½), A3 (äººæœºå…±ç”Ÿ)   |
| **StatusBar**     | æ˜¾ç¤ºå…¨å±€çŠ¶æ€ï¼Œç”¨äºæé†’                                        | G3, A7 (æ³¨æ„åŠ›å°Šé‡)         |
| **TaskScheduler** | ä½äº SidePanel ä¸­ï¼Œç”¨æ¥ç®¡ç†ä»»åŠ¡é˜Ÿåˆ—ï¼Œåè°ƒå¹¶è¡Œæ‰§è¡Œï¼Œæ’¤é”€ç­‰æ“ä½œ                 | G4, G5, A3 (å¯æ’¤é”€æ€§ã€æ™ºèƒ½å†³ç­–) |
| **AgentExecutor** | è°ƒç”¨ LLM æ‰§è¡Œ Agent ä»»åŠ¡                                 | P1 (é«˜ç†µå‹ç¼©), G5          |
| **LLMClient**     | å°è£…å¤š provider API è°ƒç”¨                                | P1, å¯æ›¿æ¢æ€§               |
| **VectorIndex**   | ç®¡ç†æœ¬åœ°å‘é‡ç´¢å¼•ï¼Œæ”¯æŒç›¸ä¼¼åº¦æ£€ç´¢                                   | P2 (è¯­ä¹‰å»é‡), A1, A5      |
| **FileMgr**       | å°è£…æ–‡ä»¶è¯»å†™ï¼Œç¡®ä¿åŸå­æ€§                                       | A5 (æœ¬åœ°ä¼˜å…ˆ), å¯é æ€§         |

### 4.2 ä»»åŠ¡æ¨¡å‹é…ç½®

ç³»ç»Ÿé‡‡ç”¨**ä»»åŠ¡é©±åŠ¨çš„æ¨¡å‹é…ç½®**ï¼Œæ¯ä¸ªä»»åŠ¡å¯ç‹¬ç«‹è®¾ç½® APIã€æ¨¡å‹ã€å‚æ•°ã€‚

| ä»»åŠ¡ ID | ä»»åŠ¡åç§° | é»˜è®¤æ¨¡å‹ | è¯´æ˜ |
|:-- |:-- |:-- |:-- |
| `embedding` | å‘é‡åµŒå…¥ | text-embedding-004 | æ–‡æœ¬å‘é‡åŒ–ï¼Œç”¨äºç›¸ä¼¼åº¦æ£€ç´¢å’Œè¯­ä¹‰å»é‡ |
| `standardizeClassify` | è¾“å…¥æ ‡å‡†åŒ– + ç±»å‹æ¨æ–­ | gemini-2.5-flash | å°†ç”¨æˆ·è¾“å…¥æ ‡å‡†åŒ–ä¸ºã€Œä¸­æ–‡æœ¯è¯­ (English Term)ã€æ ¼å¼ï¼Œå¹¶æ¨æ–­çŸ¥è¯†ç±»å‹ï¼ˆå•æ¬¡ API è°ƒç”¨å®Œæˆï¼‰|
| `enrich` | åˆ«å/æ ‡ç­¾ç”Ÿæˆ | gemini-2.5-flash | ç”Ÿæˆåˆ«åå’Œåˆ†ç±»æ ‡ç­¾ï¼Œåœ¨ Stub é˜¶æ®µæ‰§è¡Œ |
| `reason` | å†…å®¹ç”Ÿæˆ | gemini-3.0-pro | Agent A/B/C/D/E/F çš„æ ¸å¿ƒæ¨ç†ï¼Œç”Ÿæˆå®Œæ•´çŸ¥è¯†ç»“æ„ |
| `ground` | äº‹å®æ ¸æŸ¥ (Grounding) | gemini-2.5-pro | åŸºäº Google Search éªŒè¯äº‹å®å‡†ç¡®æ€§ï¼Œåœ¨å†…å®¹ç”Ÿæˆåã€ç”¨æˆ·ç¡®è®¤å†™å…¥å‰æ‰§è¡Œï¼ˆå¯é€‰ï¼‰|

**é…ç½®ç»“æ„**:

```typescript
interface TaskModelConfig {
  taskId: string;
  provider: "google" | "openai" | "openrouter";
  apiKey: string;           // å¯ç‹¬ç«‹è®¾ç½®ï¼Œæˆ–å¼•ç”¨å…¨å±€
  apiEndpoint?: string;     // è‡ªå®šä¹‰ç«¯ç‚¹ï¼Œç”¨äºç¬¬ä¸‰æ–¹ä»£ç†
  model: string;            // æ¨¡å‹åç§°
  params: {
    temperature: number;
    topP: number;
    topK: number;
    maxOutputTokens: number;
    thinkingLevel?: "low" | "medium" | "high";  // ä»…é€‚ç”¨äºæ”¯æŒæ€è€ƒçš„æ¨¡å‹
    thinkingBudget?: number;  // å¯é€‰ï¼Œç²¾ç»†æ§åˆ¶ thinking token æ•°é‡ï¼ˆèŒƒå›´ 1-24576ï¼‰
  };
}
```

**è®¾è®¡ä¼˜åŠ¿**:
- **çµæ´»æ€§**: è½»é‡ä»»åŠ¡ç”¨ä¾¿å®œå¿«é€Ÿçš„æ¨¡å‹ï¼Œé‡é‡ä»»åŠ¡ç”¨å¼ºåŠ›æ¨¡å‹
- **æˆæœ¬æ§åˆ¶**: æŒ‰ä»»åŠ¡ä¼˜åŒ– API è°ƒç”¨æˆæœ¬
- **å¯æ›¿æ¢æ€§**: ä»»æ„ä»»åŠ¡å¯åˆ‡æ¢åˆ°å…¶ä»–æä¾›å•†

### 4.3 Agent ä½“ç³»

ç³»ç»Ÿå†…ç½® 6 ä¸ªæ ¸å¿ƒ Agentï¼Œå®ƒä»¬å¤ç”¨åº•å±‚çš„ `reason` ä»»åŠ¡é…ç½®ï¼Œä½†æ‹¥æœ‰ä¸åŒçš„ Prompt ç­–ç•¥å’ŒèŒè´£ã€‚

| Agent ID | åç§° | å¯¹åº”çŸ¥è¯†ç±»å‹ | èŒè´£ |
|:--:|:--:|:--:|:--|
| **Agent A** | é¢†åŸŸåˆ¶å›¾å¸ˆ (Cartographer) | Domain | ç”Ÿæˆé¢†åŸŸå‹ç¬”è®°ï¼Œç»˜åˆ¶é¢†åŸŸåœ°å›¾ï¼Œè¯†åˆ«å­é¢†åŸŸå’Œæ ¸å¿ƒè®®é¢˜ |
| **Agent B** | çŸ›ç›¾ä¾¦æ¢ (Detective) | Issue | ç”Ÿæˆè®®é¢˜å‹ç¬”è®°ï¼Œåˆ†æè®®é¢˜ç»“æ„ï¼ŒæŒ–æ˜æ ¸å¿ƒå¼ åŠ›ï¼Œåˆ—ä¸¾ç›¸å…³ç†è®º |
| **Agent C** | ç†è®ºè§£æ„è€… (Deconstructor) | Theory | ç”Ÿæˆç†è®ºå‹ç¬”è®°ï¼Œè§£æ„ç†è®ºé€»è¾‘ï¼Œæå–å®ä½“ (Entity) å’Œæœºåˆ¶ (Mechanism) |
| **Agent D** | å®ä½“ç”Ÿæˆå™¨ (Entity Generator) | Entity | ç”Ÿæˆå®ä½“å‹ç¬”è®°ï¼Œå®šä¹‰é™æ€æ¦‚å¿µçš„æœ¬è´¨ã€åˆ†ç±»å’Œå±æ€§ |
| **Agent E** | æœºåˆ¶ç”Ÿæˆå™¨ (Mechanism Generator) | Mechanism | ç”Ÿæˆæœºåˆ¶å‹ç¬”è®°ï¼Œæè¿°åŠ¨æ€è¿‡ç¨‹çš„å› æœé“¾å’Œè§¦å‘æ¡ä»¶ |
| **Agent F** | åŸç†åˆæˆè€… (Synthesizer) | Principle | åˆ†æå¤šä¸ªæœºåˆ¶ï¼ŒæŠ½è±¡å‡ºåŒæ„çš„åŸç† (Principle) |

**æ˜ å°„å…³ç³»**:
æ‰€æœ‰ Agent åœ¨æ‰§è¡Œæ—¶ï¼Œå‡è°ƒç”¨ `reason` ä»»åŠ¡å®šä¹‰çš„æ¨¡å‹é…ç½® (é»˜è®¤ gemini-3.0-pro)ï¼Œä½†åŠ è½½ä¸åŒçš„ System Prompt å’Œ Contextã€‚

### 4.4 Groundingï¼ˆäº‹å®æ ¸æŸ¥ï¼‰è§„æ ¼

> **è®¾è®¡åŸåˆ™**: Grounding ç”¨äºéªŒè¯ AI ç”Ÿæˆå†…å®¹çš„äº‹å®å‡†ç¡®æ€§ï¼Œåœ¨ Agent ç”Ÿæˆå†…å®¹åã€ç”¨æˆ·ç¡®è®¤å†™å…¥å‰æ‰§è¡Œã€‚**Grounding ä¸ºå¯é€‰åŠŸèƒ½**ï¼Œç”¨æˆ·å¯åœ¨è®¾ç½®ä¸­å…³é—­ã€‚

**å¯ç”¨æ§åˆ¶**: 
- é»˜è®¤å¯ç”¨ï¼Œç”¨æˆ·å¯åœ¨è®¾ç½®ä¸­å…³é—­ï¼ˆ`enableGrounding: boolean`ï¼‰
- å…³é—­åï¼ŒAgent ç”Ÿæˆå†…å®¹ç›´æ¥è¿›å…¥ç”¨æˆ·ç¡®è®¤ç•Œé¢ï¼Œè·³è¿‡äº‹å®æ ¸æŸ¥æ­¥éª¤
- ç¦»çº¿çŠ¶æ€ä¸‹è‡ªåŠ¨è·³è¿‡ Grounding

**è§¦å‘æ—¶æœº**: Agent æ‰§è¡Œå®Œæˆï¼Œç”Ÿæˆå†…å®¹åï¼ˆæ­¤æ—¶ç¬”è®°ä»ä¸º Stub çŠ¶æ€ï¼Œå†…å®¹å°šæœªæŒä¹…åŒ–ï¼‰
**å®ç°æœºåˆ¶**: è°ƒç”¨ LLM Provider çš„åŸç”Ÿ Grounding èƒ½åŠ›ï¼ˆå¦‚ Gemini with Google Searchï¼‰æˆ–é›†æˆä¸“ç”¨æœç´¢å·¥å…·ã€‚
**æ ¸æŸ¥èŒƒå›´**: æ ¸æŸ¥æ‰€æœ‰é `holistic_understanding` å­—æ®µï¼Œäº¤å‰éªŒè¯å¤šä¸ªæ¥æºã€‚
**æ ¸æŸ¥ç»“æœå±•ç¤º**:
- åœ¨ç”¨æˆ·ç¡®è®¤ç•Œé¢æ˜¾ç¤ºæ ¸æŸ¥ç»“æœ
- æ ‡è®°å¯èƒ½æœ‰è¯¯çš„å­—æ®µï¼ˆé»„è‰²è­¦å‘Šï¼‰ï¼Œå¹¶é™„å¸¦ Google Search æ¥æºé“¾æ¥
- **äº¤äº’é€»è¾‘**:
    - ç”¨æˆ·ç‚¹å‡»è­¦å‘Šå›¾æ ‡å¯æŸ¥çœ‹è¯¦ç»†æ¥æºå’Œå†²çªç‚¹
    - ç”¨æˆ·å¯ç›´æ¥åœ¨ç¡®è®¤ç•Œé¢çš„æ–‡æœ¬æ¡†ä¸­**æ‰‹åŠ¨ä¿®æ­£**å†…å®¹
    - ç”¨æˆ·ä¿®æ­£åï¼Œè­¦å‘Šæ ‡è®°ä¸è‡ªåŠ¨æ¶ˆå¤±ï¼Œä½† [ç¡®è®¤å†™å…¥] æŒ‰é’®å§‹ç»ˆå¯ç”¨ï¼ˆå…è®¸ç”¨æˆ· Overrideï¼‰

### 4.5 æ•°æ®æµ

> **ç¬¬ä¸€åŸç†**: æ•°æ®æµåº”ä½“ç°ä»ã€Œè‡ªç„¶è¯­è¨€è¾“å…¥ã€åˆ°ã€Œç»“æ„åŒ–çŸ¥è¯†è¾“å‡ºã€çš„ç¼–è¯‘è¿‡ç¨‹ï¼Œæ¯ä¸ªé˜¶æ®µæœ‰æ˜ç¡®çš„è¾“å…¥/è¾“å‡ºå¥‘çº¦ã€‚

**ä¸»æ•°æ®æµ** (ä¾§è¾¹æ åˆ›å»ºæ–°ç¬”è®° â†’ å¡«å……å†…å®¹):

```mermaid
flowchart TD
    Input["ç”¨æˆ·è¾“å…¥: çº³ä»€å‡è¡¡"] --> StdClassify["æ ‡å‡†åŒ– + ç±»å‹æ¨æ–­ (standardizeClassify)"]
    StdClassify --> Enrich["ç”Ÿæˆåˆ«å/æ ‡ç­¾ (enrich)"]
    Enrich --> Embed["å‘é‡åµŒå…¥ (embedding)"]
    Embed --> Search["åŒç±»å‹ç›¸ä¼¼åº¦æ£€ç´¢ (VectorIndex)"]
    
    Search -->|æœ‰é«˜ç›¸ä¼¼åŒ¹é…| Choice{"ç”¨æˆ·é€‰æ‹©"}
    Choice -->|æ‰“å¼€å·²æœ‰| Open["æ‰“å¼€å·²æœ‰ç¬”è®°"]
    Choice -->|ä»è¦åˆ›å»º| Confirm0["ç”¨æˆ·ç¡®è®¤å…ƒæ•°æ®"]
    Search -->|æ— åŒ¹é…| Confirm0
    
    Confirm0 -->|ç¡®è®¤| Create["åˆ›å»º Stub ç¬”è®° + å…¥é˜Ÿ"]
    Confirm0 -->|å–æ¶ˆ| Cancel["å–æ¶ˆåˆ›å»º"]
    
    Create --> Agent["å†…å®¹ç”Ÿæˆ (reason)"]
    Agent --> Ground["äº‹å®æ ¸æŸ¥ (ground, å¯é€‰)"]
    Ground --> Confirm1["ç”¨æˆ·ç¡®è®¤å†…å®¹"]
    
    Confirm1 -->|ç¡®è®¤| Write["å†™å…¥ï¼ŒçŠ¶æ€å˜ä¸º Draft"]
    Confirm1 -->|æ”¾å¼ƒ| Discard["ä¸¢å¼ƒç»“æœ"]
    
    Write --> History["è®°å½•åˆ°å†å²"]
```

**æ•°æ®å¥‘çº¦**:

| é˜¶æ®µ       | è¾“å…¥                  | è¾“å‡º                            | å¤±è´¥å¤„ç†      |
|:------- |:------------------ |:---------------------------- |:-------- |
| æ ‡å‡†åŒ– + ç±»å‹æ¨æ–­ | åŸå§‹ç”¨æˆ·è¾“å…¥ | `ä¸­æ–‡ (English)` æ ¼å¼ + æ¨èç±»å‹ + **å®Œæ•´çš„ 5 ç§ç±»å‹ç½®ä¿¡åº¦åˆ†å¸ƒ**| æ˜¾ç¤º"ç±»å‹æ¨æ–­å¤±è´¥ï¼Œå·²é»˜è®¤è®¾ä¸º Entityï¼Œè¯·ç¡®è®¤æˆ–ä¿®æ”¹" |
| åˆ«å/æ ‡ç­¾ç”Ÿæˆ  | æ ‡å‡†åŒ–åç§° + ç±»å‹          | aliases[], tags[]             | è¿”å›ç©ºåˆ—è¡¨     |
| å‘é‡åµŒå…¥     | æ ‡å‡†åŒ–åç§° + åˆ«å (Stub Signature) | æµ®ç‚¹æ•°ç»„ï¼ˆç»´åº¦å–å†³äº embedding æ¨¡å‹ï¼‰| æç¤º API ä¸å¯ç”¨ï¼ŒAI åŠŸèƒ½å—é™ |
| åŒç±»å‹ç›¸ä¼¼åº¦æ£€ç´¢    | å‘é‡ + Top-K + ç±»å‹   | å€™é€‰åˆ—è¡¨ (uid, similarity, title) | è¿”å›ç©ºåˆ—è¡¨     |
| å†…å®¹ç”Ÿæˆ | ç¬”è®°å…ƒæ•°æ® + åŒç±»å‹ VectorIndex | ç»“æ„åŒ– JSON + **wikilink æ ¼å¼çš„å¼•ç”¨**ï¼ˆåœ¨ç”Ÿæˆæ—¶å°±åˆ›å»ºï¼Œéäº‹åæ›´æ–°ï¼‰| é‡è¯• 3 æ¬¡åæŠ¥é”™ |
| äº‹å®æ ¸æŸ¥ï¼ˆå¯é€‰ï¼‰| å†…å®¹ç”Ÿæˆçš„å¾…ç¡®è®¤å†…å®¹     | æ ¸æŸ¥ç»“æœ + è­¦å‘Šæ ‡è®°                   | è·³è¿‡æ ¸æŸ¥ï¼Œæ˜¾ç¤ºè­¦å‘Š |
| åŸå­å†™å…¥     | æ–‡ä»¶è·¯å¾„ + å†…å®¹           | æˆåŠŸ/å¤±è´¥                         | å®Œå…¨å›æ»š      |

æ³¨ï¼šæ£€ç´¢ä¸ä¸Šä¸‹æ–‡è£…è½½è¯´æ˜ â€” æ‰€æœ‰åŸºäºå‘é‡çš„ç›¸ä¼¼åº¦æ£€ç´¢å‡ä½¿ç”¨â€œæ¦‚å¿µç­¾å (Concept Signature)â€ çš„ embeddingï¼›åŒ¹é…åˆ°å€™é€‰æ¡ç›®åï¼Œç³»ç»Ÿå†è¯»å–å¯¹åº”ç¬”è®°çš„æ­£æ–‡å†…å®¹ä½œä¸ºæä¾›ç»™ LLM çš„ä¸Šä¸‹æ–‡ã€‚é¿å…å°†å…¨æ–‡ embedding ç›´æ¥ç”¨äºå»é‡ï¼Œä»¥é˜²ç¨€é‡Šæ¦‚å¿µæ ¸å¿ƒè¯­ä¹‰ã€‚

### 4.6 å‘é‡ç´¢å¼•å­˜å‚¨

> **è®¾è®¡åŸåˆ™**: éµå¾ª A5 å…¬ç†ï¼ˆæœ¬åœ°ä¼˜å…ˆï¼‰ï¼Œå‘é‡æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°ã€‚

**å­˜å‚¨ä½ç½®**: `.obsidian/plugins/obsidian-cognitive-razor/`
**ç´¢å¼•æ–‡ä»¶ç»“æ„**:

```
.obsidian/plugins/obsidian-cognitive-razor/
â”œâ”€â”€ vector-index.json     # å‘é‡ç´¢å¼•ä¸»æ–‡ä»¶
â”œâ”€â”€ vector-index.backup   # è‡ªåŠ¨å¤‡ä»½
â””â”€â”€ queue-state.json      # é˜Ÿåˆ—çŠ¶æ€æŒä¹…åŒ–
```

`vector-index.json` ç»“æ„:

```typescript
interface VectorIndex {
  version: string;           // ç´¢å¼•ç‰ˆæœ¬å·
  lastUpdated: string;       // ISO 8601 æ—¶é—´æˆ³
  embeddingModel: string;    // å½“å‰ä½¿ç”¨çš„ embedding æ¨¡å‹åç§°
  embeddingDimension: number; // å‘é‡ç»´åº¦ï¼ˆå–å†³äº embedding æ¨¡å‹ï¼‰
  entries: {
    [uid: string]: {
      title: string;
      type: KnowledgeType;
      path: string;          // ç›¸å¯¹äº Vault æ ¹ç›®å½•çš„è·¯å¾„
      vector: number[];      // æ¦‚å¿µå‘é‡ (Concept Embedding)ï¼ŒåŸºäº "Title + Aliases + Definition" è®¡ç®—
      contentHash: string;   // ç”¨äºæ£€æµ‹å†…å®¹å˜æ›´ï¼ˆä»…è®¡ç®—æ­£æ–‡æœ‰æ•ˆå†…å®¹ï¼Œæ’é™¤ frontmatterï¼‰
    }
  }
}
```

**å‘é‡å†…å®¹å®šä¹‰**:
ä¸ºäº†åŒæ—¶æ»¡è¶³ A1 (è¯­ä¹‰å»é‡) å’Œ G2 (ä¸Šä¸‹æ–‡æ£€ç´¢) çš„éœ€æ±‚ï¼Œ`vector` å­—æ®µå­˜å‚¨çš„æ˜¯**æ¦‚å¿µç­¾å (Concept Signature)** çš„ Embeddingï¼Œè€Œéå…¨æ–‡ Embeddingã€‚æ¦‚å¿µç­¾ååˆ†ä¸ºä¸¤ç§çŠ¶æ€ï¼š

- **Stub Signature** (åˆ›å»ºå‰/Stub é˜¶æ®µ): `Title + Aliases`ã€‚ç”¨äºåˆ›å»ºæµç¨‹ä¸­çš„åŒç±»å‹å»é‡æ£€ç´¢ã€‚
- **Full Signature** (Draft/Evergreen é˜¶æ®µ): `Title + Aliases + CoreDefinition`ã€‚ç”¨äºå†…å®¹ç”Ÿæˆæ—¶çš„ä¸Šä¸‹æ–‡æ£€ç´¢ã€‚å…¶ä¸­ `CoreDefinition` æ ¹æ®çŸ¥è¯†ç±»å‹æ˜ å°„å¦‚ä¸‹ï¼š
    - **Domain**: `definition`
    - **Issue**: `core_tension`
    - **Theory**: `axioms`
    - **Entity**: `definition`
    - **Mechanism**: `definition`
    - **Principle**: `formal_statement`
- **ç†ç”±**: æ¦‚å¿µçš„æœ¬è´¨ç”±å…¶åç§°å’Œæ ¸å¿ƒå®šä¹‰å†³å®šã€‚å…¨æ–‡åŒ…å«å¤§é‡è®ºè¯ç»†èŠ‚ï¼Œç›´æ¥ Embedding ä¼šç¨€é‡Šæ¦‚å¿µçš„æ ¸å¿ƒè¯­ä¹‰ï¼Œå¯¼è‡´å»é‡å’Œæ£€ç´¢çš„å‡†ç¡®æ€§ä¸‹é™ã€‚

**æ€§èƒ½ç­–ç•¥**:
- **å†…å­˜é©»ç•™**: æ’ä»¶å¯åŠ¨æ—¶å°†å®Œæ•´ç´¢å¼•åŠ è½½è‡³å†…å­˜ï¼Œç¡®ä¿æ£€ç´¢å»¶è¿Ÿ < 50msã€‚
- **å¼‚æ­¥æŒä¹…åŒ–**: ç´¢å¼•å˜æ›´æ“ä½œï¼ˆæ·»åŠ /æ›´æ–°ï¼‰åœ¨å†…å­˜ä¸­ç«‹å³ç”Ÿæ•ˆï¼Œå¹¶é˜²æŠ–ï¼ˆDebounce 5sï¼‰å¼‚æ­¥å†™å…¥ç£ç›˜ã€‚

## 5. åŠŸèƒ½è§„æ ¼

> **è®¾è®¡åŸåˆ™**: æ•´ä¸ªæ’ä»¶ä»¥**ä¾§è¾¹æ ä¸ºæ ¸å¿ƒäº¤äº’ç•Œé¢**ï¼Œè¾…ä»¥çŠ¶æ€æ æ˜¾ç¤ºå…¨å±€çŠ¶æ€ã€‚å‘½ä»¤ä»…ä½œä¸ºå¿«æ·é”®å…¥å£ï¼Œæ–¹ä¾¿é«˜çº§ç”¨æˆ·å¿«é€Ÿè§¦å‘æ“ä½œã€‚ä¸å¼•å…¥é¢å¤–çš„æµ®åŠ¨é¢æ¿æˆ–å¼¹çª—ï¼ˆæ‰€æœ‰ç¡®è®¤äº¤äº’å‡åœ¨ä¾§è¾¹æ å†…ä»¥è¦†ç›–å±‚æˆ–å†…åµŒæ–¹å¼å‘ˆç°ï¼‰ã€‚

### 5.1 äº¤äº’æ¶æ„æ¦‚è¿°

> **ç¬¬ä¸€æ€§åŸç†**:
> - **ä¾§è¾¹æ **ï¼šæ ¸å¿ƒäº¤äº’ç•Œé¢ï¼Œè´Ÿè´£æœç´¢ã€åˆ›å»ºã€æ·±åŒ–ã€é˜Ÿåˆ—ç®¡ç†ã€ç¡®è®¤/æ’¤é”€ç­‰æ‰€æœ‰æ“ä½œ
> - **çŠ¶æ€æ **ï¼šå…¨å±€çŠ¶æ€æ˜¾ç¤ºï¼ŒåŒ…æ‹¬å½“å‰ç¬”è®°çŠ¶æ€ã€ç»Ÿè®¡ä¿¡æ¯ã€é˜Ÿåˆ—æ•°é‡
> - **å‘½ä»¤**ï¼šä¾¿äºè®¾ç½®å¿«æ·é”®ï¼Œè§¦å‘ä¾§è¾¹æ ä¸­çš„å¯¹åº”æ“ä½œï¼Œæ–¹ä¾¿é«˜çº§ç”¨æˆ·
> - **æ–°ç”¨æˆ·å¼•å¯¼é¢æ¿**ï¼šé¦–æ¬¡ä½¿ç”¨æ—¶æ˜¾ç¤ºï¼Œè´Ÿè´£æ¸è¿›æŠ«éœ²æ€§

**ç»„ä»¶èŒè´£åˆ†é…**:

| ç»„ä»¶ | æ ¸å¿ƒèŒè´£ | æœåŠ¡çš„å…¬ç† |
|:-- |:-- |:-- |
| **ä¾§è¾¹æ ** | æœç´¢/åˆ›å»ºã€æ·±åŒ–ã€é˜Ÿåˆ—ç®¡ç†ã€ç¡®è®¤/æ’¤é”€ | A3 (äººæœºå…±ç”Ÿ), A6 (æ¸è¿›æŠ«éœ²) |
| **çŠ¶æ€æ ** | çŠ¶æ€æ˜¾ç¤ºã€ç»Ÿè®¡æ˜¾ç¤ºã€å¿«æ·å…¥å£ | A7 (æ³¨æ„åŠ›å°Šé‡) |
| **å‘½ä»¤** | å¿«æ·é”®è§¦å‘ä¾§è¾¹æ æ“ä½œ | G4 (æ“ä½œæ‘©æ“¦) |
| **å¼•å¯¼é¢æ¿** | æ–°ç”¨æˆ·é…ç½®ä¸æ•™å­¦ | A6 (æ¸è¿›æŠ«éœ²) |

### 5.2 å‘½ä»¤è®¾è®¡ï¼ˆå¿«æ·é”®å…¥å£ï¼‰

> **è®¾è®¡åŸåˆ™**: å‘½ä»¤çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºé«˜çº§ç”¨æˆ·æä¾›å¿«æ·é”®ï¼Œè€Œéä¸»è¦ä½¿ç”¨æ–¹å¼ã€‚æ‰€æœ‰å‘½ä»¤è§¦å‘çš„æ“ä½œæœ€ç»ˆéƒ½åœ¨ä¾§è¾¹æ ä¸­å®Œæˆã€‚

| å‘½ä»¤ ID | ä¸­æ–‡åç§° | å¿«æ·é”® | åŠŸèƒ½ |
|:-- |:-- |:-- |:-- |
| `cr:toggle-panel` | åˆ‡æ¢ä¾§è¾¹æ  | `Ctrl/Cmd+Shift+K` | æ‰“å¼€/å…³é—­ä¾§è¾¹æ ï¼Œå¹¶èšç„¦åˆ°æœç´¢æ¡† |
| `cr:deepen` | æ·±åŒ–å½“å‰ç¬”è®° | `Ctrl/Cmd+Shift+D` | è§¦å‘å½“å‰ç¬”è®°çš„æ·±åŒ–æ“ä½œï¼ˆç­‰åŒäºç‚¹å‡»ä¾§è¾¹æ ä¸­çš„æ·±åŒ–æŒ‰é’®ï¼‰|
| `cr:synthesize` | åˆæˆåŸç† | `Ctrl/Cmd+Shift+P` | æ‰“å¼€æœºåˆ¶é€‰æ‹©å™¨ï¼ˆåœ¨ä¾§è¾¹æ ä¸­å±•å¼€ï¼‰|
| `cr:undo` | æ’¤é”€ |â€”| æ’¤é”€æœ€è¿‘ä¸€æ¬¡å†™å…¥æ“ä½œ |
| `cr:rebuild-index` | é‡å»ºç´¢å¼• |â€”| é‡å»ºæœ¬åœ°å‘é‡ç´¢å¼• |
| `cr:settings` | æ‰“å¼€è®¾ç½® |â€”| æ‰“å¼€ CR è®¾ç½®é¡µ |

### 5.3 ä¾§è¾¹æ è§„æ ¼ï¼ˆæ ¸å¿ƒäº¤äº’ç•Œé¢ï¼‰

ä¾§è¾¹æ æ˜¯ç”¨æˆ·ä¸ CR äº¤äº’çš„**å”¯ä¸€æŒä¹…ç•Œé¢**ï¼Œé‡‡ç”¨**å›ºå®šåˆ†åŒºå¸ƒå±€**ï¼Œé›†æˆæœç´¢ã€åˆ›å»ºã€æ·±åŒ–ã€é˜Ÿåˆ—ç®¡ç†ç­‰æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ã€‚

#### 5.3.1 è§¦å‘æ–¹å¼

- ç‚¹å‡»çŠ¶æ€æ  CR å›¾æ ‡
- å‘½ä»¤ `cr:toggle-panel` / å¿«æ·é”® `Ctrl/Cmd+Shift+K`
- å‘½ä»¤é¢æ¿

#### 5.3.2 ç•Œé¢ç»“æ„

ä¾§è¾¹æ ç”± 5 ä¸ªå›ºå®šåŒºåŸŸç»„æˆï¼Œå„åŒºåŸŸå†…å®¹åŠ¨æ€æ›´æ–°ï¼š

1. **æ ‡é¢˜æ **
	- "Cognitive Razor" æ ‡é¢˜ + [âš™ï¸] è®¾ç½®å›¾æ ‡
2. **æœç´¢/åˆ›å»ºåŒº**
	- æœç´¢è¾“å…¥æ¡†ï¼šæ”¯æŒä¸­è‹±æ–‡æ··åˆè¾“å…¥
	- **æœç´¢è§¦å‘**: æŒ‰å›è½¦é”®è§¦å‘æœç´¢ï¼Œæ˜¾ç¤ºåŒ¹é…ç»“æœåˆ—è¡¨
	- **åˆ›å»ºè§¦å‘**: ç‚¹å‡» [åˆ›å»ºæ–°ç¬”è®°] æŒ‰é’®å¯åŠ¨åˆ›å»ºæµç¨‹ï¼ˆä¸æœç´¢ç‹¬ç«‹ï¼‰
	- **æœç´¢é€»è¾‘**: 
	  - ä¼˜å…ˆè¿›è¡Œ**ç²¾ç¡®åŒ¹é…**ï¼ˆæ–‡ä»¶åã€aliases å­—æ®µï¼‰
	  - åŒæ—¶è¿›è¡Œ**å‘é‡æ£€ç´¢**ï¼ˆåŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦ï¼‰
	  - æœç´¢ç»“æœæŒ‰ç›¸ä¼¼åº¦æ’åºï¼Œç²¾ç¡®åŒ¹é…é¡¹ç½®é¡¶
	  - æœç´¢èŒƒå›´ä»…é™å¸¦æœ‰ CR frontmatter çš„ç¬”è®°
	- æ˜¾ç¤º [åˆ›å»ºæ–°ç¬”è®°] æŒ‰é’®ï¼ˆå§‹ç»ˆå¯è§ï¼Œç‚¹å‡»åä½¿ç”¨è¾“å…¥æ¡†å†…å®¹å¯åŠ¨åˆ›å»ºæµç¨‹ï¼‰
	- åˆ›å»ºæµç¨‹ï¼ˆæ ‡å‡†åŒ– â†’ ç±»å‹æ¨æ–­ â†’ åŒç±»å‹å»é‡æ£€ç´¢ â†’ åˆ«åç”Ÿæˆï¼‰åœ¨æ­¤åŒºåŸŸå†…å®Œæˆ
3. **å½“å‰ç¬”è®°åŒº**
	- ç¬”è®°åç§°+ç±»å‹å¾½ç« ï¼ˆDomain/Issue/Theory/Entity/Mechanism/Principleï¼‰
	- çŠ¶æ€æ ‡ç­¾ + çŠ¶æ€æ“ä½œåŒºï¼š
	    - **Stub**: ç¬”è®°å·²åˆ›å»ºï¼Œç­‰å¾… AI ç”Ÿæˆå†…å®¹â†’ è‡ªåŠ¨å…¥é˜Ÿæ‰§è¡Œï¼Œæ“ä½œåŒºæ˜¾ç¤º [ç”Ÿæˆå†…å®¹] æŒ‰é’®ï¼ˆä»…ç”¨äºå¤±è´¥é‡è¯•æˆ–æ‰‹åŠ¨è§¦å‘ï¼‰
	    - **Draft**: AI å·²ç”Ÿæˆå†…å®¹ï¼Œå¾…äººå·¥å®¡æ ¸ â†’ æ“ä½œåŒºæ˜¾ç¤º [æ ‡è®°ä¸º Evergreen] æŒ‰é’®ã€[å¢é‡æ”¹è¿›] æŒ‰é’®å’Œ [æ·±åŒ–ç¬”è®°] æŒ‰é’®ï¼ˆä»…å¯¹ Domain/Issue/Theory ç±»å‹æ˜¾ç¤ºï¼›Entity/Principle ä¸ºç»ˆç«¯èŠ‚ç‚¹æ— æ·±åŒ–æŒ‰é’®ï¼›Mechanism æ˜¾ç¤º [åˆæˆåŸç†] æŒ‰é’®è€Œéæ·±åŒ–æŒ‰é’®ï¼‰
	    - **Evergreen**: ç”¨æˆ·å·²ç¡®è®¤å†…å®¹ç¨³å®š â†’ æ“ä½œåŒºæ˜¾ç¤º [é™çº§ä¸º Draft] æŒ‰é’®ã€[å¢é‡æ”¹è¿›] æŒ‰é’®å’Œ [æ·±åŒ–ç¬”è®°] æŒ‰é’®ï¼ˆæŒ‰ç±»å‹è§„åˆ™åŒä¸Šï¼‰
	- ç‚¹å‡» [ç”Ÿæˆå†…å®¹] æŒ‰é’®å°†ä»»åŠ¡åŠ å…¥é˜Ÿåˆ—å¹¶å¼€å§‹æ‰§è¡Œå†…å®¹ç”Ÿæˆï¼ˆé€šå¸¸åœ¨ Stub åˆ›å»ºåè‡ªåŠ¨è§¦å‘ï¼Œæ­¤æŒ‰é’®ç”¨äºæ‰‹åŠ¨é‡è¯•ï¼‰ã€‚
	- ç‚¹å‡» [æ·±åŒ–ç¬”è®°] æŒ‰é’®è§¦å‘ Agent æŒ‰ç…§**æ ¸å¿ƒä½¿ç”¨é“¾æ¡**ç”Ÿæˆä¸‹ä¸€é˜¶æ®µç±»å‹çš„ç¬”è®°åˆ—è¡¨ï¼š
	    - **Domain** â†’ ç”Ÿæˆè¯¥é¢†åŸŸçš„ Issue åˆ—è¡¨
	    - **Issue** â†’ ç”Ÿæˆå°è¯•è§£å†³è¯¥è®®é¢˜çš„ Theory åˆ—è¡¨
	    - **Theory** â†’ ç”Ÿæˆè¯¥ç†è®ºå®šä¹‰çš„ Entity å’Œæè¿°çš„ Mechanism åˆ—è¡¨
	    - **å»é‡æ£€æŸ¥**: ç³»ç»Ÿè‡ªåŠ¨æ£€æŸ¥ç”Ÿæˆåˆ—è¡¨ä¸­çš„èŠ‚ç‚¹æ˜¯å¦å·²å­˜åœ¨ï¼ˆåŸºäºåç§°æˆ–å‘é‡ï¼‰ï¼Œå¹¶åœ¨åˆ—è¡¨ä¸­æ ‡è®°å·²å­˜åœ¨çš„èŠ‚ç‚¹ï¼ˆæä¾› [æ‰“å¼€] æˆ– [å…³è”] é€‰é¡¹ï¼‰ï¼Œé¿å…é‡å¤åˆ›å»ºã€‚
	    - ç”¨æˆ·åœ¨ä¾§è¾¹æ ç¡®è®¤åˆ—è¡¨ä¸­éœ€è¦åˆ›å»ºçš„èŠ‚ç‚¹åï¼Œç³»ç»Ÿæ‰¹é‡åˆ›å»ºè¿™äº›èŠ‚ç‚¹çš„ Stubï¼Œå¹¶è‡ªåŠ¨å°†å†…å®¹ç”Ÿæˆä»»åŠ¡åŠ å…¥é˜Ÿåˆ—ã€‚
	- ç‚¹å‡» [åˆæˆåŸç†] æŒ‰é’®ï¼ˆä»… Mechanism ç±»å‹å¯ç”¨ï¼‰æ‰“å¼€æœºåˆ¶é€‰æ‹©å™¨ï¼Œéœ€é€‰æ‹© â‰¥2 ä¸ª Mechanism åˆæˆ Principleã€‚
	- è‹¥å½“å‰æ‰“å¼€çš„ä¸æ˜¯ CR ç¬”è®°ï¼ŒæŒ‰æƒ…å†µæ˜¾ç¤º"é CR ç¬”è®°"æˆ–"æœªæ‰“å¼€ç¬”è®°"
4. **é˜Ÿåˆ—åŒº**
	- **è¿›è¡Œä¸­çš„ä»»åŠ¡**ï¼ˆå¯èƒ½æœ‰å¤šä¸ªå¹¶è¡Œï¼‰ï¼š
	    - æ¯ä¸ªä»»åŠ¡æ˜¾ç¤ºï¼šä»»åŠ¡åç§° + [å–æ¶ˆ]
	    - ä»»åŠ¡å®Œæˆåæ˜¾ç¤ºï¼š[æ‰“å¼€ç¬”è®°] + [ç¡®è®¤å†™å…¥] [æ”¾å¼ƒ]
	- **ç­‰å¾…é˜Ÿåˆ—**ï¼ˆè‹¥æœ‰ï¼‰ï¼š
	    - ä»»åŠ¡åˆ—è¡¨ï¼Œæ¯é¡¹å¯ [â†‘] [â†“] [âœ•] [â–¶]
	    - [æ¸…ç©º] [å…¨éƒ¨æ‰§è¡Œ]
	- **å†å²è®°å½•**ï¼ˆå¯æŠ˜å ï¼‰ï¼š
	    - æœ€è¿‘å®Œæˆçš„æ“ä½œåˆ—è¡¨ï¼Œæ”¯æŒå•ç‹¬æ’¤é”€
	- **ç©ºé˜Ÿåˆ—æ—¶**ï¼šæ˜¾ç¤º"æ— å¾…æ‰§è¡Œä»»åŠ¡"
5. **ç»Ÿè®¡åŒº**ï¼ˆå¯æŠ˜å ï¼‰
	- å„ç±»å‹èŠ‚ç‚¹æ•°é‡ç»Ÿè®¡
	- ç´¢å¼•çŠ¶æ€å’Œä¸Šæ¬¡æ›´æ–°æ—¶é—´
	- [é‡å»ºç´¢å¼•] æŒ‰é’®

#### 5.3.3 åˆ›å»ºæµç¨‹è§„æ ¼ï¼ˆæœç´¢/åˆ›å»ºåŒºï¼‰
**åˆ›å»ºæµç¨‹**ï¼ˆç”¨æˆ·ç‚¹å‡» [åˆ›å»ºæ–°ç¬”è®°] åï¼‰:
1. ç³»ç»Ÿè°ƒç”¨ LLM è¿›è¡Œæ ‡å‡†åŒ– + ç±»å‹æ¨æ–­ï¼ˆå•æ¬¡ API è°ƒç”¨ï¼‰ï¼šè¾“å‡º `ä¸­æ–‡æœ¯è¯­ (English Term)` æ ¼å¼å’ŒçŸ¥è¯†ç±»å‹ï¼ˆæ³¨ï¼šPrinciple ç±»å‹ä¸åœ¨æ¨æ–­èŒƒå›´å†…ï¼Œåªèƒ½é€šè¿‡åˆæˆæ“ä½œåˆ›å»ºï¼‰
2. **ç”Ÿæˆå…ƒæ•°æ®**: ç³»ç»Ÿè°ƒç”¨ LLM ç”Ÿæˆåˆ«åå’Œæ ‡ç­¾ (`enrich` ä»»åŠ¡)ã€‚
3. **å‘é‡åµŒå…¥**: ç³»ç»Ÿå¯¹ `æ ‡å‡†åŒ–åç§° + åˆ«å` (å³ Stub Signature) è°ƒç”¨ embedding ä»»åŠ¡è¿›è¡Œå‘é‡åµŒå…¥ã€‚
4. **åŒç±»å‹å»é‡æ£€ç´¢**: ç³»ç»ŸåŸºäºæ¨æ–­å‡ºçš„ç±»å‹å’Œè®¡ç®—å‡ºçš„æ¦‚å¿µç­¾åå‘é‡ï¼Œåœ¨**åŒç±»å‹**èŠ‚ç‚¹ä¸­è¿›è¡Œå‘é‡ç›¸ä¼¼åº¦æ£€ç´¢ã€‚
5. **åŒ¹é…å¤„ç†**ï¼ˆæ­¥éª¤ 4 å®Œæˆåï¼‰:
    - **è‹¥å­˜åœ¨é«˜ç›¸ä¼¼åº¦åŒ¹é…** (similarity >= dedupThreshold)ï¼š
        - æ˜¾ç¤ºåŒ¹é…ç¬”è®°åˆ—è¡¨ï¼Œæ¯é¡¹æ˜¾ç¤ºï¼šæ ‡é¢˜ã€ç›¸ä¼¼åº¦ç™¾åˆ†æ¯”
        - ç”¨æˆ·ç‚¹å‡»å³å¯æ‰“å¼€è¯¥ç¬”è®°
        - åˆ—è¡¨åº•éƒ¨æ˜¾ç¤º [ä»è¦åˆ›å»ºæ–°ç¬”è®°] é€‰é¡¹
    - **è‹¥æ— åŒ¹é…** æˆ– **ç”¨æˆ·é€‰æ‹©[ä»è¦åˆ›å»º]**ï¼š
        - è¿›å…¥ç¡®è®¤ç•Œé¢
6. **æ˜¾ç¤ºç¡®è®¤ç•Œé¢**ï¼š
    - æ ‡å‡†åŒ–åç§°ï¼ˆå¯ç¼–è¾‘ï¼‰
    - æ¨æ–­ç±»å‹ï¼ˆå¯ä¿®æ”¹ä¸‹æ‹‰é€‰æ‹©ï¼ŒPrinciple ä¸åœ¨å¯é€‰åˆ—è¡¨ä¸­ï¼‰
    - **åŠ¨æ€æŸ¥é‡**: è‹¥ç”¨æˆ·ä¿®æ”¹äº†ç±»å‹ï¼Œç³»ç»Ÿç«‹å³åœ¨åå°å¯¹æ–°ç±»å‹è¿›è¡Œå‘é‡æ£€ç´¢ã€‚è‹¥å‘ç°é«˜ç›¸ä¼¼åº¦åŒ¹é…ï¼Œåœ¨ç¡®è®¤æŒ‰é’®ä¸Šæ–¹æ˜¾ç¤ºé»„è‰²è­¦å‘Š "å‘ç°åŒç±»å‹ç›¸ä¼¼æ¦‚å¿µ: [æ ‡é¢˜]"ï¼Œå¹¶ç¦ç”¨ [ç¡®è®¤åˆ›å»º] æŒ‰é’®ï¼ˆéœ€ç”¨æˆ·æ˜¾å¼å‹¾é€‰ "å¿½ç•¥é‡å¤å¼ºåˆ¶åˆ›å»º" æ‰èƒ½å¯ç”¨ï¼‰ã€‚
    - ç”Ÿæˆçš„åˆ«ååˆ—è¡¨ï¼ˆå¯ç¼–è¾‘ï¼‰
    - [ç¡®è®¤åˆ›å»º] [å–æ¶ˆ] æŒ‰é’®
    - [ç¡®è®¤åˆ›å»º] [å–æ¶ˆ] æŒ‰é’®
7. ç”¨æˆ·ç¡®è®¤åï¼š
    - åˆ›å»º Stub ç¬”è®°ï¼ˆå« frontmatterï¼‰ï¼Œä¿å­˜åˆ°å¯¹åº”ç±»å‹ç›®å½•ã€‚**Stub ç¬”è®°æ­£æ–‡åˆå§‹ä¸ºç©º**ï¼Œä»…åŒ…å« frontmatterã€‚
    - è‡ªåŠ¨å°†å†…å®¹ç”Ÿæˆä»»åŠ¡åŠ å…¥é˜Ÿåˆ—
    - æ‰“å¼€æ–°ç¬”è®°
**æœç´¢èŒƒå›´**: ä»…é™å¸¦æœ‰ CR frontmatter (å« `uid` å’Œ `type` å­—æ®µ) çš„ç¬”è®°
**æ–‡ä»¶åå†²çªå¤„ç†**:
- è‹¥æ£€ç´¢åˆ°é CR ç¬”è®°ï¼ˆæ—  uidï¼‰ä½†æ–‡ä»¶åå®Œå…¨åŒ¹é…ï¼š
    - åœ¨æœç´¢ç»“æœä¸­æ˜ç¡®æ ‡è¯† "å·²å­˜åœ¨åŒåæ™®é€šç¬”è®°"
    - ç”¨æˆ·ç‚¹å‡» [åˆ›å»ºæ–°ç¬”è®°] åï¼Œåœ¨ç¡®è®¤ç•Œé¢æ˜¾ç¤º "æ–‡ä»¶åå†²çª" è­¦å‘Š
    - **ç¦æ­¢åˆ›å»º**ï¼Œç›´åˆ°ç”¨æˆ·ä¿®æ”¹æ ‡å‡†åŒ–åç§°ä»¥æ¶ˆé™¤å†²çªï¼Œæˆ–æ‰‹åŠ¨å¤„ç†åŸæ–‡ä»¶
**å‘é‡æ£€ç´¢å‚æ•°**:
- Top-K: 10
- ç›¸ä¼¼åº¦é˜ˆå€¼: dedupThreshold (é»˜è®¤ 0.9)

#### 5.3.4 Agent è·¯ç”±è§„åˆ™

> **è®¾è®¡åŸåˆ™**: Agent è·¯ç”±åŸºäºç¬”è®°ç±»å‹å’ŒçŠ¶æ€ç¡®å®šã€‚æ¯ç§ç±»å‹çš„ Stub ç¬”è®°ç”±å¯¹åº”çš„ Agent ç”Ÿæˆå†…å®¹ã€‚

**å†…å®¹ç”Ÿæˆè·¯ç”±**ï¼ˆStub â†’ Draftï¼‰:

|   ç¬”è®°ç±»å‹    |   æ˜¾ç¤ºçš„æ“ä½œ   |   å¯¹åº” Agent   | è¯´æ˜                   |
|:-------: |:--------: |:----------: |:------------------- |
| Domain   | [ç”Ÿæˆå†…å®¹]  | Agent A    | ç”Ÿæˆå®Œæ•´é¢†åŸŸç»“æ„ï¼ˆå®šä¹‰ã€ç›®çš„è®ºã€æ–¹æ³•è®ºã€å†å²èµ·æºã€è¾¹ç•Œã€æ•´ä½“ç†è§£ï¼‰|
| Issue    | [ç”Ÿæˆå†…å®¹]  | Agent B    | ç”Ÿæˆå®Œæ•´è®®é¢˜ç»“æ„ï¼ˆæ ¸å¿ƒå¼ åŠ›ã€é‡è¦æ€§ã€å†å²èµ·æºã€ç»“æ„åˆ†æã€è¾¹ç•Œæ¡ä»¶ã€åˆ©ç›Šç›¸å…³è€…è§†è§’ã€æ•´ä½“ç†è§£ï¼‰|
| Theory   | [ç”Ÿæˆå†…å®¹]  | Agent C    | ç”Ÿæˆå®Œæ•´ç†è®ºç»“æ„ï¼ˆå…¬ç†ã€è®ºè¯é“¾ã€é¢„æµ‹ã€é€‚ç”¨èŒƒå›´ã€å±€é™æ€§ã€å†å²å‘å±•ã€æ•´ä½“ç†è§£ï¼‰|
| Entity   | [ç”Ÿæˆå†…å®¹]  | Agent D    | ç”Ÿæˆå®Œæ•´å®ä½“ç»“æ„ï¼ˆå®šä¹‰ã€åˆ†ç±»ã€å±æ€§ã€åŒºåˆ†ç‰¹å¾ã€æ­£ä¾‹/åä¾‹ã€æ•´ä½“ç†è§£ï¼‰|
| Mechanism| [ç”Ÿæˆå†…å®¹]  | Agent E    | ç”Ÿæˆå®Œæ•´æœºåˆ¶ç»“æ„ï¼ˆå®šä¹‰ã€è§¦å‘æ¡ä»¶ã€å› æœé“¾ã€ç»ˆæ­¢æ¡ä»¶ã€è¾“å…¥è¾“å‡ºã€æ•´ä½“ç†è§£ï¼‰|
| Principle| (ä»…åˆæˆ)    | Agent F    | é€šè¿‡åˆæˆæ“ä½œè§¦å‘ï¼Œåˆ†æå¤šä¸ª Mechanism çš„åŒæ„æ€§ï¼Œç”Ÿæˆ Principle ç»“æ„ |

> **å†…å®¹ç”Ÿæˆä¸æ·±åŒ–çš„èŒè´£è¾¹ç•Œ**:
> - **å†…å®¹ç”Ÿæˆï¼ˆStub â†’ Draftï¼‰**: Agent è´Ÿè´£å¡«å……å½“å‰ç¬”è®°çš„**æ‰€æœ‰å­—æ®µå†…å®¹**ï¼ŒåŒ…æ‹¬ `issues`ã€`theories`ã€`extracted_components` ç­‰åˆ—è¡¨å­—æ®µã€‚Agent åœ¨ç”Ÿæˆå†…å®¹æ—¶ç›´æ¥ä»¥ `[[wikilink]]` æ ¼å¼å†™å…¥ç¬”è®°æ­£æ–‡ï¼Œ**ä¸è‡ªåŠ¨åˆ›å»ºå¯¹åº”çš„å­ç¬”è®°**ã€‚
> - **wikilink ç”Ÿæˆæ—¶æœº**: wikilink åœ¨ Agent ç”Ÿæˆå†…å®¹ï¼ˆStubâ†’Draftï¼‰æ—¶å†™å…¥æ­£æ–‡ï¼Œ**è€Œé** Stub åˆ›å»ºæ—¶ã€‚è¿™åˆ©ç”¨äº† Obsidian å¯¹æœªåˆ›å»ºé“¾æ¥çš„è‡ªåŠ¨å¤„ç†ï¼ˆæ˜¾ç¤ºä¸ºæœªåˆ›å»ºé“¾æ¥ï¼Œåˆ›å»ºåè‡ªåŠ¨å˜ä¸ºæœ‰æ•ˆé“¾æ¥ï¼‰ã€‚
> - **æ·±åŒ–æ“ä½œï¼ˆDraft/Evergreenï¼‰**: ç”¨æˆ·æ˜¾å¼è§¦å‘æ·±åŒ–åï¼Œç³»ç»Ÿä» **Markdown ç¬”è®°æ­£æ–‡**ä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è§£æ wikilink åŠå…¶ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä¸ºæ¯ä¸ªåˆ—è¡¨é¡¹**åˆ›å»ºç‹¬ç«‹çš„å­ç¬”è®°ï¼ˆStubï¼‰**ï¼Œå¹¶å»ºç«‹ `parentUid` å…³è”ã€‚
> - **æ•°æ®æºè¯´æ˜**: æ·±åŒ–æ“ä½œçš„æ•°æ®æºæ˜¯ Markdown ç¬”è®°æ­£æ–‡ã€‚ç³»ç»Ÿé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼ï¼ˆå¦‚ `/\[\[([^\]]+)\]\]/g`ï¼‰æå– wikilinkï¼Œå¹¶è§£æå…¶å‰åçš„æè¿°æ–‡æœ¬ä½œä¸ºä¸Šä¸‹æ–‡ï¼ˆå¦‚åˆ—è¡¨é¡¹ä¸­çš„ `core_tension`ã€`definition` ç­‰ï¼‰ã€‚ä¸ä¾èµ–é¢å¤–çš„ç»“æ„åŒ–æ•°æ®å—ã€‚
> - **è®¾è®¡ç†ç”±**: è¿™ç§åˆ†ç¦»ç¡®ä¿ç”¨æˆ·å¯ä»¥å…ˆå®¡æ ¸ Agent ç”Ÿæˆçš„åˆ—è¡¨å†…å®¹è´¨é‡ï¼Œå†å†³å®šæ˜¯å¦å±•å¼€ä¸ºå­ç¬”è®°ï¼Œç¬¦åˆ A3 å…¬ç†ï¼ˆäººæœºå…±ç”Ÿæ€§ï¼‰ã€‚

**æ·±åŒ–æ“ä½œè·¯ç”±**ï¼ˆä»… Draft/Evergreen çŠ¶æ€å¯ç”¨ï¼‰:

|   ç¬”è®°ç±»å‹    |   æ˜¾ç¤ºçš„æ“ä½œ   | äº§å‡ºç±»å‹ | è¯´æ˜                   |
|:-------: |:--------: |:----: |:------------------- |
| Domain   | [æ·±åŒ–ç¬”è®°]  | Issue åˆ—è¡¨ | ç”Ÿæˆè¯¥é¢†åŸŸçš„è®®é¢˜åˆ—è¡¨ |
| Issue    | [æ·±åŒ–ç¬”è®°]  | Theory åˆ—è¡¨ | ç”Ÿæˆå°è¯•è§£å†³è¯¥è®®é¢˜çš„ç†è®ºåˆ—è¡¨ |
| Theory   | [æ·±åŒ–ç¬”è®°]  | Entity + Mechanism åˆ—è¡¨ | æå–è¯¥ç†è®ºå®šä¹‰çš„å®ä½“å’Œæè¿°çš„æœºåˆ¶ |
| Entity   | â€”        | â€” | æ— æ·±åŒ–æ“ä½œ |
| Mechanism| [åˆæˆåŸç†]  | Principle | å¤šå¯¹ä¸€æ“ä½œï¼Œéœ€é€‰æ‹© â‰¥2 ä¸ª Mechanism |
| Principle| â€”        | â€” | æ— æ·±åŒ–/åˆæˆæ“ä½œ |

**Principle åˆæˆè§„æ ¼** (`cr:synthesize`):
1. ç”¨æˆ·é€šè¿‡å‘½ä»¤ `cr:synthesize` æˆ–ä¾§è¾¹æ ã€ŒåˆæˆåŸç†ã€æŒ‰é’®è§¦å‘
2. ä¾§è¾¹æ å±•å¼€æœºåˆ¶é€‰æ‹©å™¨ï¼Œåˆ—å‡ºæ‰€æœ‰ Mechanism ç±»å‹ç¬”è®°ï¼ˆä»… Draft/Evergreen çŠ¶æ€ï¼‰
3. ç”¨æˆ·å¿…é¡»é€‰æ‹© â‰¥2 ä¸ªä¸åŒçš„ Mechanism
4. **æ¥æºå»é‡æ£€æŸ¥**: ç³»ç»Ÿæ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨åŒ…å«å®Œå…¨ç›¸åŒ `sourceUids` ç»„åˆçš„ Principle ç¬”è®°ã€‚è‹¥å­˜åœ¨ï¼Œæç¤ºç”¨æˆ·ç›´æ¥æ‰“å¼€è¯¥ç¬”è®°ï¼Œé˜»æ­¢é‡å¤åˆæˆã€‚
5. ç³»ç»Ÿè°ƒç”¨ Agent Fï¼Œåˆ†æé€‰ä¸­æœºåˆ¶çš„ç»“æ„åŒæ„æ€§ï¼Œç”Ÿæˆ Principle å®Œæ•´å†…å®¹
6. **ç»“æœå»é‡æ£€æŸ¥**: ç³»ç»Ÿå¯¹ç”Ÿæˆçš„ Principle åç§°è¿›è¡Œå‘é‡æ£€ç´¢å’Œç²¾ç¡®åŒ¹é…æ£€æŸ¥ã€‚è‹¥å‘ç°é‡å¤ï¼Œåœ¨é¢„è§ˆç•Œé¢æ˜¾ç¤ºè­¦å‘Šï¼ˆåŒåˆ›å»ºæµç¨‹ï¼‰ã€‚
7. æ˜¾ç¤ºé¢„è§ˆç•Œé¢ï¼Œç”¨æˆ·ç¡®è®¤å…ƒæ•°æ®ï¼ˆåç§°ã€åˆ«åï¼‰å’Œç”Ÿæˆå†…å®¹
8. ç”¨æˆ·ç¡®è®¤åï¼Œ**ç›´æ¥ä»¥ Draft çŠ¶æ€åˆ›å»º** Principle ç¬”è®°ï¼ˆè·³è¿‡ Stub é˜¶æ®µï¼‰
9. Frontmatter ä¸­çš„ `sourceUids` å­—æ®µè‡ªåŠ¨è®°å½•å‚ä¸åˆæˆçš„æ‰€æœ‰ Mechanism çš„ UID

æ³¨ï¼šPrinciple çš„åˆæˆæµç¨‹åŒæ ·å¿…é¡»ç»è¿‡é¢„è§ˆä¸ç”¨æˆ·æ˜¾å¼ç¡®è®¤ï¼ˆç‚¹å‡» [ç¡®è®¤å†™å…¥]ï¼‰æ‰ä¼šå†™å…¥æ–‡ä»¶ï¼›è¯¥ç¡®è®¤æ­¥éª¤ä¸ºä¸å¯è·³è¿‡çš„å†™å…¥é—¨æ§›ã€‚

> **è®¾è®¡è¯´æ˜**: Principle ä¸ç»å† Stub é˜¶æ®µï¼Œå› ä¸ºåˆæˆæ“ä½œæœ¬èº«å·²åŒ…å«å®Œæ•´çš„å†…å®¹ç”Ÿæˆï¼Œæ— éœ€é¢å¤–çš„"å¡«å……"æ­¥éª¤ã€‚

#### 5.3.5 å¢é‡æ¨¡å¼è§„æ ¼

> **è®¾è®¡åŸåˆ™**: å¢é‡æ¨¡å¼ç”¨äºç”¨æˆ·å¯¹ç°æœ‰ Draft å†…å®¹ä¸æ»¡æ„æ—¶ï¼Œè®© AI åœ¨ç°æœ‰åŸºç¡€ä¸Šè¿›è¡Œæ”¹è¿›ï¼Œä»¥ **Diff View** å½¢å¼å±•ç¤ºå˜æ›´ã€‚éµå¾ª A3 å…¬ç†ï¼ˆäººæœºå…±ç”Ÿæ€§ï¼‰ï¼Œæ‰€æœ‰å¢é‡ä¿®æ”¹å¿…é¡»ç»ç”¨æˆ·ç¡®è®¤åæ‰å†™å…¥ã€‚

**è§¦å‘æ¡ä»¶**:
- ç¬”è®°çŠ¶æ€ä¸º Draft æˆ– Evergreen
- ç”¨æˆ·ç‚¹å‡»ä¾§è¾¹æ ä¸­çš„ [å¢é‡æ”¹è¿›] æŒ‰é’®

**äº¤äº’æµç¨‹**:
1. **è§¦å‘**: ç”¨æˆ·åœ¨ Draft/Evergreen çŠ¶æ€çš„ç¬”è®°ä¸Šç‚¹å‡» [å¢é‡æ”¹è¿›]
2. **è¾“å…¥**: ç³»ç»Ÿå¼¹å‡ºè¾“å…¥æ¡†ï¼Œç”¨æˆ·æè¿°æ”¹è¿›æ„å›¾ï¼ˆå¦‚ï¼š"è¡¥å……æ›´å¤šæ­£ä¾‹"ã€"ä¼˜åŒ–è®ºè¯é“¾çš„é€»è¾‘"ï¼‰
3. **æ‰§è¡Œ**: ç³»ç»Ÿå°†å½“å‰ç¬”è®°å†…å®¹ + ç”¨æˆ·æ”¹è¿›æ„å›¾å‘é€ç»™å¯¹åº” Agentï¼ŒAgent ç”Ÿæˆæ”¹è¿›åçš„å®Œæ•´å†…å®¹
4. **äº‹å®æ ¸æŸ¥ (å¯é€‰)**: è‹¥å¯ç”¨äº† Groundingï¼Œç³»ç»Ÿå¯¹æ”¹è¿›åçš„å†…å®¹è¿›è¡Œäº‹å®æ ¸æŸ¥ã€‚æ ¸æŸ¥ç»“æœå°†åœ¨é¢„è§ˆç•Œé¢ä¸­ä»¥è­¦å‘Šæ ‡è®°å½¢å¼å±•ç¤ºã€‚
5. **é¢„è§ˆ**: ä»¥ **Diff View** å½¢å¼å±•ç¤ºå˜æ›´ï¼š
   - åˆ é™¤çš„å†…å®¹æ ‡çº¢
   - æ–°å¢çš„å†…å®¹æ ‡ç»¿
   - æœªä¿®æ”¹çš„å†…å®¹ä¿æŒåŸæ ·
5. **ç¡®è®¤**: ç”¨æˆ·å¯æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š
   - **[æ¥å—å…¨éƒ¨]**: åº”ç”¨æ‰€æœ‰å˜æ›´
   - **[æ”¾å¼ƒ]**: ä¸¢å¼ƒæ‰€æœ‰å˜æ›´ï¼Œä¿æŒåŸå†…å®¹
   - **[é€é¡¹å®¡æ ¸]**: å±•å¼€è¯¦ç»†å¯¹æ¯”ï¼Œé€å­—æ®µå†³å®šæ˜¯å¦æ¥å—

**æŠ€æœ¯çº¦æŸ**:
- å¢é‡æ¨¡å¼å¤ç”¨å¯¹åº”ç±»å‹çš„ Agentï¼ˆå¦‚ Entity ç¬”è®°ä½¿ç”¨ Agent Dï¼‰
- Agent æ¥æ”¶çš„ Context åŒ…å«ï¼šå½“å‰ç¬”è®°**å…¨æ–‡å†…å®¹** (Full Text) + ç”¨æˆ·æ”¹è¿›æ„å›¾ + åŒç±»å‹ vault_index
- å¢é‡ä»»åŠ¡åŒæ ·è¿›å…¥é˜Ÿåˆ—ç®¡ç†ï¼Œæ”¯æŒå–æ¶ˆå’Œé‡è¯•

**çŠ¶æ€å˜æ›´è§„åˆ™**:
- Draft ç¬”è®°å¢é‡æ”¹è¿›åä»ä¸º Draft
- Evergreen ç¬”è®°å¢é‡æ”¹è¿›ç¡®è®¤å†™å…¥åï¼Œè‡ªåŠ¨é™çº§ä¸º Draftï¼ˆå› ä¸ºå†…å®¹å·²å˜æ›´ï¼Œéœ€é‡æ–°å®¡æ ¸ï¼‰

#### 5.3.6 é˜Ÿåˆ—ç®¡ç†è§„æ ¼

> **è®¾è®¡åŸåˆ™**: é˜Ÿåˆ—ç®¡ç†æ˜¯å®ç° A3 å…¬ç†ï¼ˆå¯è¿½æº¯æ€§ã€å¯æ’¤é”€æ€§ã€å¯ä¸­æ–­æ¢å¤æ€§ï¼‰çš„æ ¸å¿ƒæœºåˆ¶ã€‚

| è§„æ ¼é¡¹      | å®šä¹‰               | ç†ç”±           |
|:------- |:--------------- |:----------- |
| **å®¹é‡**   | æ— é™åˆ¶              | ç”¨æˆ·å¯èƒ½æ‰¹é‡æ·»åŠ å¤§é‡ä»»åŠ¡ |
| **å¹¶å‘æ•°** | é»˜è®¤ 1ï¼Œç”¨æˆ·å¯åœ¨è®¾ç½®ä¸­è°ƒæ•´ï¼ˆèŒƒå›´ 1-5ï¼‰| å¹³è¡¡ API é€Ÿç‡é™åˆ¶ä¸æ‰§è¡Œæ•ˆç‡ |
| **æ‰§è¡Œæ–¹å¼** | æŒ‰å¹¶å‘æ•°å¹¶è¡Œæ‰§è¡Œ | åœ¨ API é™åˆ¶å†…æœ€å¤§åŒ–ååé‡ |
| **å¤±è´¥å¤„ç†** | è‡ªåŠ¨é‡è¯•ï¼ˆæœ€å¤š 3 æ¬¡ï¼ŒæŒ‡æ•°é€€é¿ï¼‰ï¼›3 æ¬¡åä»å¤±è´¥åˆ™æ ‡è®°ä¸º Failed | é¿å…é˜»å¡åç»­ä»»åŠ¡ï¼ŒåŒæ—¶ç»™äºˆè¶³å¤Ÿé‡è¯•æœºä¼š |
| **Failed ä»»åŠ¡** | åœ¨é˜Ÿåˆ—å†å²ä¸­æ˜¾ç¤ºï¼Œç”¨æˆ·å¯æ‰‹åŠ¨ç‚¹å‡» [é‡æ–°å…¥é˜Ÿ] | ç”¨æˆ·ä¿ç•™æœ€ç»ˆæ§åˆ¶æƒï¼Œç¬¦åˆ A3 å…¬ç† |
| **å†å²ä¿ç•™** | ä¿ç•™æœ€è¿‘ 50 æ¡å®Œæˆçš„æ“ä½œ   | æ”¯æŒæ’¤é”€å’Œè¿½æº¯      |

**æ‰¹é‡æ·±åŒ–ä»»åŠ¡å¤„ç†**:
- æ·±åŒ–æ“ä½œäº§ç”Ÿçš„å¤šä¸ªå­èŠ‚ç‚¹ï¼ˆå¦‚ Domain æ·±åŒ–äº§ç”Ÿ 10 ä¸ª Issueï¼‰ï¼Œç³»ç»Ÿä¸ºæ¯ä¸ªå­èŠ‚ç‚¹åˆ›å»º**ç‹¬ç«‹çš„å†…å®¹å¡«å……ä»»åŠ¡**
- æ¯ä¸ªä»»åŠ¡ç‹¬ç«‹æ‰§è¡Œã€ç‹¬ç«‹ç¡®è®¤ã€ç‹¬ç«‹å›æ»šï¼Œäº’ä¸å½±å“
- ç”¨æˆ·å¯é€‰æ‹©æ€§ç¡®è®¤éƒ¨åˆ†ä»»åŠ¡çš„ç»“æœï¼Œæ”¾å¼ƒå…¶ä»–ä»»åŠ¡

**é˜Ÿåˆ—çŠ¶æ€æŒä¹…åŒ–**:
- æ’ä»¶å…³é—­æ—¶ï¼Œè‡ªåŠ¨ä¿å­˜é˜Ÿåˆ—çŠ¶æ€åˆ°æœ¬åœ°
- æ’ä»¶é‡å¯æ—¶ï¼Œæ¢å¤æœªå®Œæˆçš„ä»»åŠ¡
- å®ç° A3 å…¬ç†çš„å¯ä¸­æ–­æ¢å¤æ€§

### 5.4 çŠ¶æ€æ è§„æ ¼

çŠ¶æ€æ æä¾›**å…¨å±€æ¦‚è§ˆ**å’Œ**å¿«æ·å…¥å£**ã€‚

#### 5.4.1 æ˜¾ç¤ºå†…å®¹

`CR: [çŠ¶æ€å›¾æ ‡] â”‚ ğŸ“Š [èŠ‚ç‚¹æ•°] â”‚ â³ [é˜Ÿåˆ—æ•°]`

| å…ƒç´  | å«ä¹‰ | ç‚¹å‡»è¡Œä¸º |
|:--: |:--: |:--: |
| `CR:` | æ’ä»¶æ ‡è¯† | åˆ‡æ¢ä¾§è¾¹æ æ˜¾ç¤º/éšè— |
| çŠ¶æ€å›¾æ ‡ | å½“å‰ç¬”è®°çŠ¶æ€ï¼šâšª Stub / ğŸ“ Draft / ğŸŒ² Evergreen /â€”é CR ç¬”è®° | åœ¨ä¾§è¾¹æ æ˜¾ç¤ºå½“å‰ç¬”è®°åŒº |
| `ğŸ“Š 1,234` | ç´¢å¼•èŠ‚ç‚¹æ•° | åœ¨ä¾§è¾¹æ æ˜¾ç¤ºç»Ÿè®¡è¯¦æƒ… |
| `â³ 3` | é˜Ÿåˆ—ä¸­ä»»åŠ¡æ•° | åœ¨ä¾§è¾¹æ æ˜¾ç¤ºé˜Ÿåˆ—ç®¡ç† |

### 5.5 ç¡®è®¤ä¸æ’¤é”€æœºåˆ¶

> **è®¾è®¡åŸåˆ™**: ä¸¥æ ¼éµå¾ª A3 å…¬ç†ï¼Œç¡®ä¿ç”¨æˆ·å¯¹æ¯ä¸€æ¬¡å†™å…¥æ‹¥æœ‰ç»å¯¹æ§åˆ¶æƒå’Œåæ‚”æƒã€‚

**ç¡®è®¤æœºåˆ¶ (Confirmation)**:
- **é¢„è§ˆæ¨¡å¼**: æ‰€æœ‰ Agent ç”Ÿæˆçš„å†…å®¹åœ¨å†™å…¥æ–‡ä»¶å‰ï¼Œå¿…é¡»åœ¨**ä¸»ç¼–è¾‘å™¨**ä¸­ä»¥å®Œæ•´ç¬”è®°å½¢å¼å±•ç¤ºã€‚ç¼–è¾‘å™¨é¡¶éƒ¨æ˜¾ç¤º**æ‚¬æµ®æ“ä½œæ **ï¼ŒåŒ…å« Grounding è­¦å‘Šæ‘˜è¦å’Œ [ç¡®è®¤å†™å…¥] / [æ”¾å¼ƒ] æŒ‰é’®ã€‚å¯¹äºå¢é‡æ”¹è¿›ï¼Œä»¥ "Diff View" å½¢å¼é«˜äº®æ˜¾ç¤ºå˜æ›´ã€‚
- **æ˜¾å¼åŠ¨ä½œ**: å¿…é¡»é€šè¿‡ç‚¹å‡»æ‚¬æµ®æ ä¸­çš„ [ç¡®è®¤å†™å…¥] æŒ‰é’®è§¦å‘å†™å…¥ï¼Œä¸æ”¯æŒå€’è®¡æ—¶è‡ªåŠ¨ç¡®è®¤ã€‚
- **ç²’åº¦æ§åˆ¶**: å…è®¸ç”¨æˆ·åœ¨ç¡®è®¤å‰ç›´æ¥åœ¨ç¼–è¾‘å™¨ä¸­å¯¹ç”Ÿæˆå†…å®¹è¿›è¡Œä¿®æ”¹ã€‚
- **Grounding è­¦å‘Š**: è‹¥äº‹å®æ ¸æŸ¥å‘ç°æ½œåœ¨é”™è¯¯ï¼Œæ‚¬æµ®æ æ˜¾ç¤ºè­¦å‘Šæ‘˜è¦ï¼Œç‚¹å‡»å¯æŸ¥çœ‹è¯¦ç»†æ¥æºå’Œå†²çªç‚¹ï¼Œä½†å…è®¸ç”¨æˆ·å¿½ç•¥è­¦å‘Šå¼ºåˆ¶å†™å…¥ã€‚
**æ’¤é”€æœºåˆ¶ (Undo)**:
- **æ“ä½œæ ˆ**: ç³»ç»Ÿç»´æŠ¤ä¸€ä¸ªç‹¬ç«‹çš„ `OperationStack`ï¼Œè®°å½•æœ€è¿‘ 50 æ¬¡å†™å…¥æ“ä½œã€‚
- **åŸå­æ€§**: æ¯æ¬¡ [ç¡®è®¤å†™å…¥] è§†ä¸ºä¸€ä¸ªåŸå­æ“ä½œã€‚æ’¤é”€æ—¶ï¼Œå®Œå…¨å›æ»šè¯¥æ¬¡æ“ä½œå¯¹æ–‡ä»¶çš„æ‰€æœ‰ä¿®æ”¹ï¼ˆåŒ…æ‹¬ frontmatter å’Œæ­£æ–‡ï¼‰ã€‚
- **å‘é‡ç´¢å¼•åŒæ­¥**: æ’¤é”€åˆ›å»ºæ“ä½œæ—¶ï¼ŒåŒæ­¥åˆ é™¤å‘é‡ç´¢å¼•ä¸­çš„å¯¹åº”æ¡ç›®ï¼›æ’¤é”€ä¿®æ”¹æ“ä½œæ—¶ï¼Œæ¢å¤ç´¢å¼•ä¸­çš„æ—§å‘é‡ã€‚
- **è§¦å‘æ–¹å¼**:
    - ä¾§è¾¹æ å†å²è®°å½•åŒºçš„ [æ’¤é”€] æŒ‰é’®ã€‚
    - å¿«æ·é”® (éœ€ç»‘å®šå‘½ä»¤ `cr:undo`)ã€‚
- **çŠ¶æ€åŒæ­¥**: æ’¤é”€æ“ä½œåï¼Œç¬”è®°çŠ¶æ€è‡ªåŠ¨å›æ»šï¼ˆå¦‚ä» Draft å›æ»šåˆ° Stubï¼‰ï¼Œé˜Ÿåˆ—çŠ¶æ€ç›¸åº”æ›´æ–°ï¼ˆä»»åŠ¡æ ‡è®°ä¸º"å·²æ’¤é”€"å¹¶å…è®¸é‡æ–°æ‰§è¡Œï¼‰ã€‚
- **Stub çŠ¶æ€æ’¤é”€åçš„å¤„ç†**: è‹¥æ’¤é”€ Stub â†’ Draft çš„å†…å®¹å†™å…¥æ“ä½œï¼Œç¬”è®°å›æ»šåˆ° Stub çŠ¶æ€åï¼Œç”¨æˆ·å¯é€šè¿‡ä¾§è¾¹æ ã€Œå½“å‰ç¬”è®°åŒºã€çš„ [ç”Ÿæˆå†…å®¹] æŒ‰é’®**æ‰‹åŠ¨é‡æ–°è§¦å‘**å†…å®¹ç”Ÿæˆä»»åŠ¡å…¥é˜Ÿã€‚ç³»ç»Ÿ**ä¸è‡ªåŠ¨é‡æ–°å…¥é˜Ÿ**ï¼Œä»¥é¿å…ç”¨æˆ·æ— æ„ä¸­é‡å¤æ‰§è¡Œï¼ˆç¬¦åˆ A3 å…¬ç†çš„æ˜¾å¼ç¡®è®¤åŸåˆ™ï¼‰ã€‚

### 5.6 æ–°ç”¨æˆ·å¼•å¯¼

#### 5.6.1 æ¬¢è¿ç•Œé¢

> **è®¾è®¡åŸåˆ™**: é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œä¾§è¾¹æ åº”å±•ç¤ºå¼•å¯¼çŠ¶æ€ï¼Œè€Œéç©ºç™½æˆ–é”™è¯¯ä¿¡æ¯ã€‚

**ç•Œé¢å…ƒç´ **:
1. **æ¬¢è¿è¯­**: "æ¬¢è¿ä½¿ç”¨ Cognitive Razorâ€”â€”æ‚¨çš„ç¬¬äºŒå¤§è„‘è®¤çŸ¥ç¼–è¯‘å™¨ã€‚"
2. **æ ¸å¿ƒé…ç½®**: 
   - æä¾›å•†é€‰æ‹©ä¸‹æ‹‰æ¡†ï¼ˆGoogle Gemini / OpenAI / OpenRouterï¼‰
   - API Key è¾“å…¥æ¡†ï¼ˆé™„å¸¦ "å¦‚ä½•è·å–?" é“¾æ¥ï¼‰
   - è‡ªå®šä¹‰ç«¯ç‚¹è¾“å…¥æ¡†ï¼ˆå¯é€‰ï¼Œç”¨äºç¬¬ä¸‰æ–¹ä»£ç†ï¼‰
3. **å¼€å§‹æŒ‰é’®**: [éªŒè¯å¹¶å¼€å§‹]ï¼Œç‚¹å‡»åæµ‹è¯• API è¿æ¥ã€‚
4. **æ¼”ç¤ºæ¨¡å¼**: [ä½¿ç”¨æ¼”ç¤ºæ•°æ®ä½“éªŒ] (å¯é€‰ï¼Œè‹¥ä¸é…ç½® Key å¯æµè§ˆ UI ä½†æ— æ³•ç”Ÿæˆ)ã€‚
    è¯´æ˜ï¼šå³ä½¿ä¸é…ç½® API Key æˆ–å¤„äºç¦»çº¿çŠ¶æ€ï¼Œç”¨æˆ·ä»å¯æ­£å¸¸æµè§ˆä¸æœç´¢å·²æœ‰å¸¦ CR frontmatter çš„ç¬”è®°ï¼›æ‰€æœ‰éœ€è¦ LLM çš„æ“ä½œï¼ˆå¦‚ç”Ÿæˆ/å¢é‡æ”¹è¿›/å»é‡æ ‡å‡†åŒ–ç­‰ï¼‰å°†è¢«ç¦ç”¨å¹¶æç¤ºä¸å¯ç”¨ã€‚

#### 5.6.2 æ¨¡å¼åˆ‡æ¢

> **è®¾è®¡åŸåˆ™**: ç®€åŒ–æ¨¡å¼é€šè¿‡å‡å°‘å¯é…ç½®é¡¹æ•°é‡æ¥é™ä½ç”¨æˆ·çš„è®¤çŸ¥è´Ÿè½½ã€‚æ‰€æœ‰å…­ç§çŸ¥è¯†ç±»å‹åœ¨ä»»ä½•æ¨¡å¼ä¸‹éƒ½å¯è§ä¸”å¯ç”¨ã€‚

**æ¨¡å¼å·®å¼‚**:

| é…ç½®ç»´åº¦       | ç®€åŒ–æ¨¡å¼           | é«˜çº§æ¨¡å¼                       |
|:--------- |:------------- |:------------------------- |
| **å¯è§çŸ¥è¯†ç±»å‹** | å…¨éƒ¨ 6 ç§         | å…¨éƒ¨ 6 ç§                     |
| **è®¾ç½®é¡¹æ•°é‡**  | ä»…åŸºç¡€é¡¹ï¼ˆAPIã€å­˜å‚¨è·¯å¾„ï¼‰| å…¨éƒ¨è®¾ç½®é¡¹                      |
| **å»é‡é˜ˆå€¼**   | ä½¿ç”¨é»˜è®¤å€¼ (0.9)    | å¯è‡ªå®šä¹‰                       |
| **æ¨¡å‹å‚æ•°**   | ä½¿ç”¨é»˜è®¤å€¼          | å¯è‡ªå®šä¹‰                       |
| **è°ƒè¯•é€‰é¡¹**   | éšè—             | å¯è§                         |

**åˆ‡æ¢æ–¹å¼**: è®¾ç½® â†’ å¯ç”¨é«˜çº§æ¨¡å¼ (å¼€/å…³)

## 6. ç”¨æˆ·äº¤äº’è§„æ ¼

### 6.1 äº¤äº’è®¾è®¡åŸåˆ™

> **æ¨å¯¼é€»è¾‘**: ä»ç³»ç»Ÿå…¬ç† (A1-A7) å’Œç›®æ ‡å‡½æ•° (G1-G5) æ¨å¯¼å‡ºå…·ä½“çš„äº¤äº’è®¾è®¡åŸåˆ™ã€‚

| åŸåˆ™ | æ¥æºå…¬ç†/ç›®æ ‡ | è®¾è®¡è¦æ±‚ |
|:-- |:-- |:-- |
| **ä¾§è¾¹æ ä¸ºæ ¸å¿ƒ** | G3 (è®¤çŸ¥è´Ÿè½½), A3 (äººæœºå…±ç”Ÿ) | æ‰€æœ‰æ ¸å¿ƒæ“ä½œåœ¨ä¾§è¾¹æ ä¸­å®Œæˆï¼Œå‘½ä»¤ä»…ä¸ºå¿«æ·é”®å…¥å£ |
| **ç¡®è®¤ä¼˜å…ˆ** | A3 (äººæœºå…±ç”Ÿ) | ä»»ä½• AI ç”Ÿæˆå†…å®¹å†™å…¥å‰å¿…é¡»æ˜¾ç¤ºé¢„è§ˆå¹¶è·å¾—ç”¨æˆ·ç¡®è®¤ |
| **æ¸è¿›å¤æ‚** | A6 (æ¸è¿›æŠ«éœ²) | æ–°ç”¨æˆ·çœ‹åˆ°ç®€åŒ–ç•Œé¢ï¼Œé«˜çº§é€‰é¡¹é€šè¿‡è®¾ç½®è§£é” |
| **é™é»˜åå°** | A7 (æ³¨æ„åŠ›å°Šé‡) | é•¿æ—¶é—´ä»»åŠ¡åœ¨åå°æ‰§è¡Œï¼Œä»…åœ¨éœ€è¦ç”¨æˆ·å†³ç­–æ—¶æ‰“æ–­ |
| **å³æ—¶åé¦ˆ** | G4 (æ“ä½œæ‘©æ“¦) | ä»»ä½•æ“ä½œåœ¨ 200ms å†…å¿…é¡»æœ‰è§†è§‰å“åº”ï¼ˆè‡³å°‘æ˜¾ç¤ºåŠ è½½çŠ¶æ€ï¼‰|
| **é˜Ÿåˆ—é›†ä¸­ç®¡ç†** | A3 (å¯è¿½æº¯/å¯æ’¤é”€/å¯ä¸­æ–­) | æ‰€æœ‰ä»»åŠ¡é€šè¿‡é˜Ÿåˆ—ç®¡ç†ï¼Œæ”¯æŒæ’¤é”€å’Œæ¢å¤ |
| **è¯­ä¹‰ä¸€è‡´** | A1 (è¯­ä¹‰å”¯ä¸€) | åˆ›å»ºæ–°ç¬”è®°å‰å¿…é¡»å±•ç¤ºç›¸ä¼¼å€™é€‰ï¼Œé¿å…è¯¯åˆ›é‡å¤ |
| **æœ¬åœ°æ„ŸçŸ¥** | A5 (æœ¬åœ°ä¼˜å…ˆ) | ç¦»çº¿æ—¶æ˜ç¡®æç¤º AI åŠŸèƒ½ä¸å¯ç”¨ï¼Œæœ¬åœ°æ•°æ®å¯æ­£å¸¸è®¿é—®ï¼Œä¸é™é»˜å¤±è´¥ |

### 6.2 å¿«æ·é”®è®¾è®¡

> **è®¾è®¡åŸåˆ™**: å¿«æ·é”®åº”ç¬¦åˆ Obsidian ç”Ÿæ€ä¹ æƒ¯ï¼Œä½¿ç”¨ `Ctrl/Cmd+Shift` ä½œä¸ºæ’ä»¶ä¸“å±å‰ç¼€ï¼Œé¿å…ä¸æ ¸å¿ƒåŠŸèƒ½å†²çªã€‚å¿«æ·é”®æ˜¯ä¾§è¾¹æ æ“ä½œçš„å¿«æ·å…¥å£ï¼Œè€Œéä¸»è¦ä½¿ç”¨æ–¹å¼ã€‚

### 6.3 é€šçŸ¥ç³»ç»Ÿ

> **è®¾è®¡åŸåˆ™**: éµå¾ª A7 å…¬ç†ï¼ˆæ³¨æ„åŠ›å°Šé‡æ€§ï¼‰ï¼ŒåŒºåˆ†ä¿¡æ¯å±‚çº§ï¼Œæœ€å°åŒ–æ‰“æ‰°ã€‚

**é€šçŸ¥åˆ†çº§**:

| ç­‰çº§ | åœºæ™¯ | è¡¨ç°å½¢å¼ | æ˜¯å¦æ‰“æ–­ |
|:-- |:-- |:-- |:-- |
| **Info** | ä»»åŠ¡å…¥é˜Ÿã€åå°å¤„ç†ä¸­ | çŠ¶æ€æ å›¾æ ‡åŠ¨ç”» / ä¾§è¾¹æ å¾®å¼±æç¤º | å¦ |
| **Success** | ä»»åŠ¡å®Œæˆç­‰å¾…ç¡®è®¤ | çŠ¶æ€æ å›¾æ ‡å˜è‰² / ä¾§è¾¹æ é«˜äº® | å¦ |
| **Warning** | è¯­ä¹‰é‡å¤ã€Grounding å‘ç°ç–‘ç‚¹ | ä¾§è¾¹æ é»„è‰²è­¦å‘Šæ¡ | å¦ï¼ˆä½†åœ¨ç¡®è®¤æ—¶å¿…é¡»å¤„ç†ï¼‰|
| **Error** | API å¤±è´¥ã€ç½‘ç»œé”™è¯¯ | é¡¶éƒ¨ Toast å¼¹çª— (è‡ªåŠ¨æ¶ˆå¤±) | æ˜¯ (è½»å¾®) |
| **Critical** | ç´¢å¼•æŸåã€å†™å…¥å¤±è´¥ | æ¨¡æ€å¼¹çª— (éœ€æ‰‹åŠ¨å…³é—­) | æ˜¯ (ä¸¥é‡) |

**å…æ‰“æ‰°ç­–ç•¥**:
- **è¾“å…¥ä¿æŠ¤**: å½“ç”¨æˆ·åœ¨ Obsidian ç¼–è¾‘å™¨ä¸­è¿›è¡Œé”®ç›˜è¾“å…¥æ—¶ï¼ˆæ£€æµ‹åˆ° `keypress` äº‹ä»¶ï¼‰ï¼Œæš‚åœæ‰€æœ‰ Toast å¼¹çª— 5 ç§’ï¼Œä»…æ›´æ–°çŠ¶æ€æ ã€‚
- **èšç„¦æ¨¡å¼**: è‹¥ç”¨æˆ·å¼€å¯ Obsidian çš„"ä¸“æ³¨æ¨¡å¼"ï¼Œæ‰€æœ‰é Critical é€šçŸ¥è‡ªåŠ¨é™é»˜ã€‚

### 6.4 é”™è¯¯å¤„ç†ä¸æ¢å¤

**å¸¸è§é”™è¯¯è¯Šæ–­æ˜ å°„**:

| é”™è¯¯ç /å…³é”®è¯ | è¯Šæ–­ç»“æœ | å»ºè®®æ“ä½œ |
|:--: |:--: |:--: |
| `401` / `Invalid API key` | API å¯†é’¥æ— æ•ˆ | è·³è½¬è®¾ç½®é¡µ |
| `429` / `Rate limit` | è¯·æ±‚é¢‘ç‡è¶…é™ | ç­‰å¾… 1 åˆ†é’Ÿåé‡è¯• |
| `timeout` | ç½‘ç»œè¶…æ—¶ | æ£€æŸ¥ç½‘ç»œ / ä½¿ç”¨ä»£ç† |
| `ENOTFOUND` | DNS è§£æå¤±è´¥ | æ£€æŸ¥ç½‘ç»œè¿æ¥ |
| `JSON parse error` | å“åº”æ ¼å¼é”™è¯¯ | è‡ªåŠ¨é‡è¯• / æŠ¥å‘Šé—®é¢˜ |

### 6.5 å®Œæ•´ç”¨æˆ·æ—…ç¨‹

#### 6.5.1 æ–°ç”¨æˆ·é¦–æ¬¡ä½¿ç”¨

**åœºæ™¯**: ç”¨æˆ·åˆšå®‰è£…æ’ä»¶ï¼Œå°šæœªé…ç½® API Key

| ç”¨æˆ·åŠ¨ä½œ | ç³»ç»Ÿå“åº” |
|:-- |:-- |
| å¯ç”¨æ’ä»¶ | è‡ªåŠ¨å¼¹å‡ºä¾§è¾¹æ ï¼Œæ˜¾ç¤º"æ¬¢è¿å‘å¯¼" |
| (å‘å¯¼ç•Œé¢) | æç¤ºè¾“å…¥ Google Gemini API Key (æä¾›è·å–é“¾æ¥) |
| è¾“å…¥ Key å¹¶ç‚¹å‡» [ä¿å­˜] | éªŒè¯ Key æœ‰æ•ˆæ€§ â†’ æˆåŠŸæ˜¾ç¤º âœ… â†’ è§£é”ä¸»ç•Œé¢ |
| (ä¸»ç•Œé¢) | æœç´¢æ¡†è‡ªåŠ¨èšç„¦ï¼Œæ˜¾ç¤ºæç¤ºæ–‡æœ¬ "è¾“å…¥ä¸€ä¸ªæ¦‚å¿µï¼Œä¾‹å¦‚ï¼šç†µå¢å®šå¾‹" |
| è¾“å…¥ "ç†µå¢å®šå¾‹" å¹¶å›è½¦ | å¼€å§‹åˆ›å»ºæµç¨‹ (è§ 6.5.2) |

#### 6.5.2 æ—¥å¸¸çŸ¥è¯†æ³¨å…¥

**åœºæ™¯**: ç”¨æˆ·åœ¨é˜…è¯»ä¸­é‡åˆ°æ–°æ¦‚å¿µï¼Œæƒ³å¿«é€Ÿè®°å½•

| ç”¨æˆ·åŠ¨ä½œ           | ç³»ç»Ÿå“åº”                         |
|:------------- |:--------------------------- |
| æŒ‰ Ctrl+Shift+K | æ‰“å¼€ä¾§è¾¹æ , èšç„¦æœç´¢æ¡†                 |
| è¾“å…¥ "çº³ä»€å‡è¡¡"      | è¾“å…¥æ¡†æ˜¾ç¤ºæ–‡æœ¬ï¼Œç­‰å¾…ç”¨æˆ·æ“ä½œ              |
| ç‚¹å‡» [åˆ›å»ºæ–°ç¬”è®°]     | æ˜¾ç¤ºè¿›åº¦: æ ‡å‡†åŒ–+ç±»å‹æ¨æ–­... â†’ åŒç±»å‹æ£€ç´¢... â†’ åˆ«åç”Ÿæˆ... |
| (ç³»ç»Ÿ)           | æ— ç›¸ä¼¼åŒ¹é…ï¼Œæ˜¾ç¤ºç¡®è®¤ç•Œé¢ï¼šåç§°="çº³ä»€å‡è¡¡ (Nash Equilibrium)"/ç±»å‹=Entity/åˆ«å |
| ç‚¹å‡» [ç¡®è®¤åˆ›å»º]      | åˆ›å»º Stub, æ‰“å¼€ç¬”è®°, è‡ªåŠ¨å°†å†…å®¹ç”Ÿæˆä»»åŠ¡å…¥é˜Ÿï¼ˆæ ¹æ®ç±»å‹è·¯ç”±åˆ°å¯¹åº” Agentï¼‰|
| (Agent å®Œæˆ)   | ä¾§è¾¹æ é˜Ÿåˆ—åŒºæ˜¾ç¤ºä»»åŠ¡å®Œæˆ + [ç¡®è®¤å†™å…¥] æŒ‰é’®                |
| ç‚¹å‡» [ç¡®è®¤å†™å…¥]      | å†™å…¥å®Œæˆ, çŠ¶æ€å˜ä¸º Draft             |

#### 6.5.3 å¤„ç†è¯­ä¹‰å†²çª

**åœºæ™¯**: ç”¨æˆ·è¾“å…¥ "è‹¹æœ"ï¼Œåº“ä¸­å·²æœ‰ "Apple (Fruit)"

| ç”¨æˆ·åŠ¨ä½œ | ç³»ç»Ÿå“åº” |
|:-- |:-- |
| è¾“å…¥ "è‹¹æœ" å¹¶ç‚¹å‡»åˆ›å»º | æ ‡å‡†åŒ–ä¸º "è‹¹æœ (Apple)"ï¼Œç±»å‹æ¨æ–­ä¸º Entity |
| (ç³»ç»Ÿåå°) | å‘é‡æ£€ç´¢å‘ç° "Apple (Fruit)" ç›¸ä¼¼åº¦ 0.95 |
| (ç•Œé¢å±•ç¤º) | æ˜¾ç¤º "å‘ç°ç›¸ä¼¼æ¦‚å¿µ: Apple (Fruit) (95%)" |
| ç”¨æˆ·æŸ¥çœ‹åŒ¹é…é¡¹ | å‘ç°ç¡®å®æ˜¯åŒä¸€ä¸ªæ¦‚å¿µ |
| ç‚¹å‡»åŒ¹é…é¡¹æ ‡é¢˜ | æ‰“å¼€ç°æœ‰çš„ "Apple (Fruit)" ç¬”è®° |
| (å¯é€‰) ç”¨æˆ·æ„å›¾æ˜¯ç§‘æŠ€å…¬å¸ | ç”¨æˆ·ä¿®æ”¹è¾“å…¥ä¸º "è‹¹æœå…¬å¸"ï¼Œé‡æ–°ç‚¹å‡»åˆ›å»º |
| (ç³»ç»Ÿåå°) | é‡æ–°æ ‡å‡†åŒ–ä¸º "è‹¹æœå…¬å¸ (Apple Inc.)"ï¼Œæ£€ç´¢æ— é«˜ç›¸ä¼¼é¡¹ |
| (ç•Œé¢å±•ç¤º) | è¿›å…¥ç¡®è®¤ç•Œé¢ |

#### 6.5.4 æ‰¹é‡æ·±åŒ–æ“ä½œ

**åœºæ™¯**: ç”¨æˆ·å¯¹å·²æœ‰çš„ "åšå¼ˆè®º (Game Theory)" é¢†åŸŸç¬”è®°è¿›è¡Œæ·±åŒ–ï¼Œç”Ÿæˆè®®é¢˜åˆ—è¡¨

| ç”¨æˆ·åŠ¨ä½œ | ç³»ç»Ÿå“åº” |
|:-- |:-- |
| æ‰“å¼€ "åšå¼ˆè®º" ç¬”è®°ï¼ˆDraft çŠ¶æ€ï¼‰| ä¾§è¾¹æ å½“å‰ç¬”è®°åŒºæ˜¾ç¤º [æ·±åŒ–ç¬”è®°] æŒ‰é’® |
| ç‚¹å‡» [æ·±åŒ–ç¬”è®°] | ç³»ç»Ÿè¯»å–ç¬”è®°ä¸­çš„ `issues` å­—æ®µï¼Œç”Ÿæˆè®®é¢˜åˆ—è¡¨é¢„è§ˆ |
| (é¢„è§ˆç•Œé¢) | æ˜¾ç¤º 8 ä¸ªè®®é¢˜å€™é€‰ï¼Œå…¶ä¸­ 2 ä¸ªæ ‡è®°ä¸º"å·²å­˜åœ¨"ï¼ˆç»¿è‰²ï¼‰ï¼Œ6 ä¸ªä¸º"æ–°å»º"ï¼ˆè“è‰²ï¼‰|
| å–æ¶ˆå‹¾é€‰ 2 ä¸ªä¸æƒ³åˆ›å»ºçš„è®®é¢˜ | åˆ—è¡¨æ›´æ–°ï¼Œæ˜¾ç¤º 4 ä¸ªå¾…åˆ›å»º |
| ç‚¹å‡» [ç¡®è®¤åˆ›å»º 4 ä¸ªè®®é¢˜] | ç³»ç»Ÿæ‰¹é‡åˆ›å»º 4 ä¸ª Issue ç±»å‹çš„ Stub ç¬”è®°ï¼Œ4 ä¸ªå†…å®¹ç”Ÿæˆä»»åŠ¡å…¥é˜Ÿ |
| (é˜Ÿåˆ—åŒº) | æ˜¾ç¤º 4 ä¸ªä»»åŠ¡ï¼šä»»åŠ¡1 Running / ä»»åŠ¡2-4 Pending |
| (ä»»åŠ¡1 å®Œæˆ) | ä»»åŠ¡1 æ˜¾ç¤º [ç¡®è®¤å†™å…¥] [æ”¾å¼ƒ]ï¼Œä»»åŠ¡2 å˜ä¸º Running |
| ç‚¹å‡»ä»»åŠ¡1 [ç¡®è®¤å†™å…¥] | ä»»åŠ¡1 å®Œæˆï¼Œç»§ç»­å¤„ç†ä»»åŠ¡2 |
| (å¯é€‰) ç‚¹å‡»ä»»åŠ¡3 [æ”¾å¼ƒ] | ä»»åŠ¡3 ä¸¢å¼ƒï¼Œå¯¹åº” Stub ç¬”è®°ä¿ç•™ï¼ˆç”¨æˆ·å¯æ‰‹åŠ¨é‡è¯•æˆ–åˆ é™¤ï¼‰|

**æ‰¹é‡ç¡®è®¤ UI è¯´æ˜**ï¼š
- æ¯ä¸ªä»»åŠ¡ç‹¬ç«‹æ˜¾ç¤ºç¡®è®¤æŒ‰é’®ï¼Œç”¨æˆ·å¯é€ä¸ªç¡®è®¤æˆ–æ”¾å¼ƒ
- è‹¥ç”¨æˆ·å¸Œæœ›å¿«é€Ÿç¡®è®¤å…¨éƒ¨ï¼Œå¯åœ¨è®¾ç½®ä¸­å¯ç”¨"è‡ªåŠ¨ç¡®è®¤æ¨¡å¼"ï¼ˆé»˜è®¤å…³é—­ï¼Œéœ€åœ¨é«˜çº§æ¨¡å¼ä¸­å¼€å¯ï¼‰
- è‡ªåŠ¨ç¡®è®¤æ¨¡å¼ä¸‹ï¼Œä»»åŠ¡å®Œæˆåè‡ªåŠ¨å†™å…¥ï¼Œä½†ä»è®°å½•åˆ°å†å²æ”¯æŒæ’¤é”€

## 7. é…ç½®è§„æ ¼

### 7.1 é…ç½®ç»“æ„ (TypeScript)

```typescript
interface PluginSettings {
  // --- é€šç”¨è®¾ç½® ---
  language: 'zh' | 'en';
  advancedMode: boolean; // å¼€å¯é«˜çº§æ¨¡å¼
  
  // --- å­˜å‚¨è®¾ç½® ---
  indexStoragePath: string; // å‘é‡ç´¢å¼•å­˜å‚¨è·¯å¾„ï¼Œé»˜è®¤ .obsidian/plugins/obsidian-cognitive-razor/
  
  // --- API è°ƒç”¨æ ¼å¼é…ç½® ---
  // æä¾›å•†æœ¬è´¨ä¸Šæ˜¯ API è°ƒç”¨æ ¼å¼çš„é€‰æ‹©ï¼š
  // - google: Google Generative AI API è°ƒç”¨æ ¼å¼
  // - openai: OpenAI API è°ƒç”¨æ ¼å¼ï¼ˆå…¼å®¹æ‰€æœ‰ OpenAI æ ¼å¼çš„ç¬¬ä¸‰æ–¹æœåŠ¡ï¼‰
  // - openrouter: OpenRouter API è°ƒç”¨æ ¼å¼ï¼ˆèšåˆå¤šæ¨¡å‹çš„ç»Ÿä¸€æ¥å£ï¼‰
  apiProviders: {
    google: { apiKey: string; baseUrl?: string };
    openai: { apiKey: string; baseUrl?: string };
    openrouter: { apiKey: string; baseUrl?: string };
  };
  
  // --- ä»»åŠ¡æ¨¡å‹æ˜ å°„ (é«˜çº§æ¨¡å¼å¯è§) ---
  // è§ 4.2 èŠ‚ TaskModelConfig å®šä¹‰
  taskModels: {
    embedding: TaskModelConfig;
    standardizeClassify: TaskModelConfig;
    enrich: TaskModelConfig;
    reason: TaskModelConfig;
    ground: TaskModelConfig;
  };
  
  // --- ç®—æ³•å‚æ•° (é«˜çº§æ¨¡å¼å¯è§) ---
  dedupThreshold: number;      // å»é‡ç›¸ä¼¼åº¦é˜ˆå€¼ï¼Œé»˜è®¤ 0.9ï¼Œå¯é…ç½®
  topK: number;                // å‘é‡æ£€ç´¢è¿”å›çš„å€™é€‰æ•°é‡ï¼Œé»˜è®¤ 10ï¼Œå¯é…ç½®
  maxConcurrency: number;      // é˜Ÿåˆ—æœ€å¤§å¹¶å‘æ•°ï¼Œé»˜è®¤ 1ï¼ŒèŒƒå›´ 1-5
  
  // --- åŠŸèƒ½å¼€å…³ ---
  enableGrounding: boolean;    // æ˜¯å¦å¯ç”¨äº‹å®æ ¸æŸ¥ï¼Œé»˜è®¤ true
  autoConfirmWrite: boolean;   // è‡ªåŠ¨ç¡®è®¤å†™å…¥æ¨¡å¼ï¼ˆé«˜çº§ï¼‰ï¼Œé»˜è®¤ false
  
  // --- æ¨¡æ¿è®¾ç½® ---
  namingTemplate: string; // é»˜è®¤ "{{chinese}} ({{english}})"
}
```

### 7.2 è®¾ç½®ç•Œé¢åˆ†åŒº

> **è®¾è®¡åŸåˆ™**: éµå¾ª A6 å…¬ç†ï¼ˆæ¸è¿›æŠ«éœ²æ€§ï¼‰ï¼Œé»˜è®¤éšè—å¤æ‚é…ç½®ã€‚

1. **é€šç”¨ (General)**
    - è¯­è¨€é€‰æ‹©
    - **é«˜çº§æ¨¡å¼å¼€å…³**: å¼€å¯åæ˜¾ç¤º "æ¨¡å‹é…ç½®" å’Œ "ç®—æ³•å‚æ•°" åˆ†åŒºã€‚
2. **API è®¾ç½® (API Providers / è°ƒç”¨æ ¼å¼)**
    - **Google Gemini**ï¼ˆæ¨èï¼‰ï¼šä½¿ç”¨ Google Generative AI API è°ƒç”¨æ ¼å¼
    - **OpenAI**ï¼ˆå¯é€‰ï¼‰ï¼šä½¿ç”¨ OpenAI API è°ƒç”¨æ ¼å¼ï¼Œå…¼å®¹æ‰€æœ‰ OpenAI æ ¼å¼çš„ç¬¬ä¸‰æ–¹æœåŠ¡
    - **OpenRouter**ï¼ˆå¯é€‰ï¼‰ï¼šä½¿ç”¨ OpenRouter API è°ƒç”¨æ ¼å¼ï¼Œèšåˆå¤šæ¨¡å‹çš„ç»Ÿä¸€æ¥å£
    - å„è°ƒç”¨æ ¼å¼æ”¯æŒè‡ªå®šä¹‰ç«¯ç‚¹ï¼Œä¾¿äºä½¿ç”¨ç¬¬ä¸‰æ–¹ä»£ç†æˆ–ç§æœ‰éƒ¨ç½²
    - *è¯´æ˜: æä¾›å•†æœ¬è´¨ä¸Šæ˜¯ API è°ƒç”¨æ ¼å¼çš„é€‰æ‹©ï¼Œè‡³å°‘é…ç½®ä¸€ä¸ªæ‰èƒ½ä½¿ç”¨æ’ä»¶*ã€‚
3. **æ¨¡å‹é…ç½® (Model Configuration)** *[ä»…é«˜çº§æ¨¡å¼]*
    - é’ˆå¯¹æ¯ä¸ªä»»åŠ¡ (Embedding, Standardize, Reason, etc.) æä¾›ä¸‹æ‹‰èœå•é€‰æ‹© Provider å’Œ Modelã€‚
    - å…è®¸è‡ªå®šä¹‰æ¨¡å‹å‚æ•° (Temperature, TopK)ã€‚
4. **çŸ¥è¯†åº“ç®¡ç† (Knowledge Base)**
    - ç´¢å¼•çŠ¶æ€æ˜¾ç¤º (èŠ‚ç‚¹æ•°, å¤§å°)
    - [é‡å»ºç´¢å¼•] æŒ‰é’®
    - [æ¸…é™¤ç¼“å­˜] æŒ‰é’®
5. **æ¨¡æ¿ä¸å‘½å (Templates)**
    - æ–‡ä»¶å‘½åæ¨¡æ¿è¾“å…¥æ¡†
    - é¢„è§ˆç¤ºä¾‹

### 7.3 å‘½åæ¨¡æ¿å ä½ç¬¦

| å ä½ç¬¦ | è¯´æ˜ | ç¤ºä¾‹ |
|:--: |:--: |:--: |
| ` {{chinese}} ` | ä¸­æ–‡æœ¯è¯­ | çº³ä»€å‡è¡¡ |
| ` {{english}} ` | è‹±æ–‡æœ¯è¯­ | Nash Equilibrium |
| ` {{type}} ` | ç±»å‹ (è‹±æ–‡) | Entity |
| ` {{type_cn}} ` | ç±»å‹ (ä¸­æ–‡) | å®ä½“ |
| ` {{date}} ` | æ—¥æœŸ | 2025-11-28 |

## 8. éåŠŸèƒ½éœ€æ±‚

### 8.1 æ€§èƒ½

> **è®¾è®¡åŸåˆ™**: æ€§èƒ½æŒ‡æ ‡åº”ç›´æ¥æœåŠ¡äºç›®æ ‡å‡½æ•° G4 (æœ€å°åŒ–æ“ä½œæ‘©æ“¦) å’Œç”¨æˆ·ä½“éªŒï¼Œè¿½æ±‚å°½å¯èƒ½å¿«çš„å“åº”ï¼Œä½†ä¸è®¾ç¡¬æ€§æ—¶é—´çº¦æŸã€‚

**å…³é”®æ€§èƒ½æŒ‡æ ‡ï¼ˆå‚è€ƒå€¼ï¼Œéç¡¬çº¦æŸï¼‰**ï¼š

| æ“ä½œ | ç›®æ ‡å“åº”æ—¶é—´ | è¯´æ˜ |
|:-- |:-- |:-- |
| å‘é‡ç´¢å¼•åŠ è½½ | < 2s | æ’ä»¶å¯åŠ¨æ—¶ï¼Œ1000 èŠ‚ç‚¹è§„æ¨¡ |
| å‘é‡ç›¸ä¼¼åº¦æ£€ç´¢ | < 100ms | å†…å­˜ä¸­æ£€ç´¢ï¼ŒTop-10 |
| UI äº¤äº’å“åº” | < 200ms | ä»»ä½•æŒ‰é’®ç‚¹å‡»åº”æœ‰è§†è§‰åé¦ˆ |
| æ ‡å‡†åŒ– + ç±»å‹æ¨æ–­ | ç½‘ç»œå»¶è¿Ÿ + 1-3s | å–å†³äº API å“åº” |
| å†…å®¹ç”Ÿæˆï¼ˆAgentï¼‰ | ç½‘ç»œå»¶è¿Ÿ + 10-60s | å–å†³äºå†…å®¹å¤æ‚åº¦å’Œæ¨¡å‹ |

**å¤§è§„æ¨¡ Vault æ”¯æŒ**ï¼š
- è®¾è®¡ç›®æ ‡æ”¯æŒ 10,000+ èŠ‚ç‚¹çš„ Vault
- å‘é‡ç´¢å¼•é‡‡ç”¨å†…å­˜é©»ç•™ + å¼‚æ­¥æŒä¹…åŒ–ç­–ç•¥
- è‹¥ç´¢å¼•æ–‡ä»¶è¶…è¿‡ 50MBï¼Œè€ƒè™‘åˆ†ç‰‡åŠ è½½ç­–ç•¥ï¼ˆå¯åœ¨åç»­ç‰ˆæœ¬ä¼˜åŒ–ï¼‰

### 8.2 å¯é æ€§

- **æ•°æ®å®Œæ•´æ€§**: ä»»ä½•æ–‡ä»¶å†™å…¥æ“ä½œå¿…é¡»ä¿è¯åŸå­æ€§ã€‚è‹¥å†™å…¥è¿‡ç¨‹ä¸­æ’ä»¶å´©æºƒæˆ–æ–­ç”µï¼Œæ–‡ä»¶ä¸åº”æŸåï¼ˆé€šè¿‡å…ˆå†™ä¸´æ—¶æ–‡ä»¶å†é‡å‘½åå®ç°ï¼‰ã€‚
- **é˜Ÿåˆ—æŒä¹…åŒ–**: ä»»åŠ¡é˜Ÿåˆ—çŠ¶æ€å¿…é¡»å®æ—¶ï¼ˆæˆ–é«˜é¢‘ï¼‰å†™å…¥ç£ç›˜ `queue-state.json`ã€‚æ’ä»¶é‡å¯åï¼Œå¿…é¡»èƒ½ä»æ–­ç‚¹æ¢å¤æœªå®Œæˆçš„ä»»åŠ¡ã€‚
- **API å®¹é”™**: å¯¹æ‰€æœ‰å¤–éƒ¨ API è°ƒç”¨å®æ–½æŒ‡æ•°é€€é¿é‡è¯•æœºåˆ¶ï¼ˆé»˜è®¤ 3 æ¬¡ï¼‰ã€‚è‹¥æœ€ç»ˆå¤±è´¥ï¼Œä»»åŠ¡æ ‡è®°ä¸º Failed å¹¶ä¿ç•™åœ¨é˜Ÿåˆ—å†å²ä¸­ä¾›ç”¨æˆ·æ‰‹åŠ¨é‡æ–°å…¥é˜Ÿï¼Œç»ä¸é™é»˜ä¸¢å¼ƒã€‚

### 8.3 å¯è§‚å¯Ÿæ€§

- **æ—¥å¿—è®°å½•**: æ’ä»¶åº”ç»´æŠ¤ä¸€ä¸ªå¾ªç¯æ—¥å¿—æ–‡ä»¶ (`plugin.log`)ï¼Œè®°å½•å…³é”®æ“ä½œï¼ˆä»»åŠ¡çŠ¶æ€å˜æ›´ã€æ–‡ä»¶å†™å…¥ã€API é”™è¯¯ï¼‰ï¼Œä¿ç•™æœ€è¿‘ 1MB æ•°æ®ã€‚
- **æˆæœ¬é€æ˜**: åœ¨è®¾ç½®é¡µæˆ–çŠ¶æ€æ æä¾›æœ¬æ¬¡ä¼šè¯/æœ¬æœˆçš„ Token æ¶ˆè€—ä¼°ç®—ï¼ˆè‹¥ API æä¾›ç›¸å…³æ•°æ®ï¼‰ã€‚
- **è°ƒè¯•æ¨¡å¼**: å¼€å¯é«˜çº§æ¨¡å¼åï¼Œå¯åœ¨æ§åˆ¶å°è¾“å‡ºè¯¦ç»†çš„ Prompt å’Œ Raw Responseï¼Œä¾¿äº Prompt Engineering è°ƒè¯•ã€‚

### 8.4 å¯è®¿é—®æ€§

- **é”®ç›˜å¯¼èˆª**: ä¾§è¾¹æ çš„æ‰€æœ‰äº¤äº’å…ƒç´ ï¼ˆæŒ‰é’®ã€åˆ—è¡¨é¡¹ã€è¾“å…¥æ¡†ï¼‰å¿…é¡»æ”¯æŒ Tab é”®éå†å’Œ Enter/Space æ¿€æ´»ã€‚
- **å¿«æ·é”®è¦†ç›–**: æ ¸å¿ƒé«˜é¢‘æ“ä½œï¼ˆæ‰“å¼€é¢æ¿ã€åˆ›å»ºã€æ’¤é”€ï¼‰å¿…é¡»ç»‘å®šå¿«æ·é”®ã€‚
- **å±å¹•é˜…è¯»å™¨**: æ‰€æœ‰å›¾æ ‡æŒ‰é’®å¿…é¡»åŒ…å« `aria-label` å±æ€§ï¼ŒçŠ¶æ€å˜æ›´å¿…é¡»é€šè¿‡ `aria-live` åŒºåŸŸé€šçŸ¥è¾…åŠ©æŠ€æœ¯ã€‚

### 8.5 æŠ€æœ¯å®ç°æ³¨æ„äº‹é¡¹

> **è®¾è®¡åŸåˆ™**: æœ¬èŠ‚ä¸ºå¼€å‘è€…æä¾›å…³é”®å®ç°çº¦æŸå’Œæ½œåœ¨é£é™©æç¤ºã€‚

**Obsidian API çº¦æŸ**ï¼š
- æ–‡ä»¶æ“ä½œå¿…é¡»ä½¿ç”¨ `vault.create()`, `vault.modify()`, `vault.adapter.write()` ç­‰ Obsidian APIï¼Œä¸å¯ç›´æ¥ä½¿ç”¨ Node.js fs æ¨¡å—
- ä¾§è¾¹æ ä½¿ç”¨ `ItemView` å®ç°ï¼Œéœ€æ­£ç¡®å¤„ç† `onOpen()`, `onClose()` ç”Ÿå‘½å‘¨æœŸ
- çŠ¶æ€æ ä½¿ç”¨ `addStatusBarItem()` API

**å‘é‡è®¡ç®—çº¦æŸ**ï¼š
- Embedding API è°ƒç”¨ä¸ºå¼‚æ­¥æ“ä½œï¼Œéœ€å¤„ç†ç½‘ç»œå»¶è¿Ÿå’Œå¤±è´¥
- å‘é‡ç›¸ä¼¼åº¦è®¡ç®—ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ï¼š$\text{similarity} = \frac{\vec{a} \cdot \vec{b}}{|\vec{a}| \cdot |\vec{b}|}$
- å»ºè®®åœ¨ Web Worker ä¸­æ‰§è¡Œå¤§è§„æ¨¡å‘é‡è¿ç®—ï¼ˆè‹¥æ”¯æŒï¼‰

**å¹¶å‘æ§åˆ¶**ï¼š
- å¤šä»»åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œéœ€ç¡®ä¿å¯¹åŒä¸€æ–‡ä»¶çš„å†™å…¥æ“ä½œä¸²è¡ŒåŒ–
- å‘é‡ç´¢å¼•çš„å†…å­˜æ›´æ–°ä¸ç£ç›˜æŒä¹…åŒ–éœ€æ­£ç¡®å¤„ç†ç«æ€æ¡ä»¶
- ä½¿ç”¨ Mutex æˆ–é˜Ÿåˆ—æœºåˆ¶ä¿æŠ¤å…±äº«èµ„æº

**API Rate Limiting**ï¼š
- Gemini API æœ‰è¯·æ±‚é¢‘ç‡é™åˆ¶ï¼Œéœ€å®ç° Token Bucket æˆ–ç±»ä¼¼æœºåˆ¶
- æ‰¹é‡æ·±åŒ–æ“ä½œäº§ç”Ÿå¤šä¸ªä»»åŠ¡æ—¶ï¼Œåº”æ§åˆ¶å¹¶å‘æ•°é¿å…è§¦å‘é™æµ
- åœ¨è®¾ç½®ä¸­æä¾› `maxConcurrency` é…ç½®ï¼ˆé»˜è®¤ 1ï¼ŒèŒƒå›´ 1-5ï¼‰

## é™„å½• A: é»˜è®¤ç›®å½•ç»“æ„

```
Vault Root/
â”œâ”€â”€ 1-é¢†åŸŸ/
â”œâ”€â”€ 2-è®®é¢˜/
â”œâ”€â”€ 3-ç†è®º/
â”œâ”€â”€ 4-å®ä½“/
â”œâ”€â”€ 5-æœºåˆ¶/
â””â”€â”€ 6-åŸåˆ™/
```

## é™„å½• B: Frontmatter Schema

```yaml
uid: string          # UUID v4, å¿…å¡«
type: string         # Domain|Issue|Theory|Entity|Mechanism|Principle, å¿…å¡«
aliases: string[]    # æœç´¢åˆ«å, é€‰å¡«
tags: string[]       # æ ‡ç­¾, é€‰å¡«
status: string       # Stub|Draft|Evergreen, é»˜è®¤ Stub
created: string      # yyyy-MM-DD HH:mm:ss æ ¼å¼, è‡ªåŠ¨ç”Ÿæˆ
updated: string      # yyyy-MM-DD HH:mm:ss æ ¼å¼, è‡ªåŠ¨æ›´æ–°

# --- ç»“æ„åŒ–å…³è”å­—æ®µ (é€‰å¡«) ---
parentUid: string    # çˆ¶èŠ‚ç‚¹ UIDï¼Œç”¨äºæ·±åŒ–äº§ç”Ÿçš„å­èŠ‚ç‚¹
parentType: string   # çˆ¶èŠ‚ç‚¹ç±»å‹ï¼Œä¾¿äºåå‘æŸ¥è¯¢
sourceUids: string[] # æ¥æºèŠ‚ç‚¹ UID åˆ—è¡¨ï¼Œç”¨äº Principle åˆæˆï¼ˆè®°å½•æ¥æº Mechanismï¼‰
```

**å…³è”å­—æ®µä½¿ç”¨è§„åˆ™**:
- **æ·±åŒ–äº§ç”Ÿçš„èŠ‚ç‚¹**: è‡ªåŠ¨å¡«å…… `parentUid` å’Œ `parentType`ï¼ŒæŒ‡å‘è§¦å‘æ·±åŒ–çš„çˆ¶èŠ‚ç‚¹
  - Domain æ·±åŒ– â†’ Issue: `parentType: Domain`
  - Issue æ·±åŒ– â†’ Theory: `parentType: Issue`
  - Theory æ·±åŒ– â†’ Entity/Mechanism: `parentType: Theory`
- **åˆæˆäº§ç”Ÿçš„èŠ‚ç‚¹**: Principle ç¬”è®°çš„ `sourceUids` è®°å½•å‚ä¸åˆæˆçš„æ‰€æœ‰ Mechanism çš„ UID
- **ç”¨æˆ·ç›´æ¥åˆ›å»ºçš„èŠ‚ç‚¹**: å…³è”å­—æ®µä¸ºç©ºï¼Œè¡¨ç¤ºè¯¥èŠ‚ç‚¹ä¸ºç‹¬ç«‹åˆ›å»º
- **åŒå‘é“¾æ¥**: ç³»ç»Ÿåœ¨ç¬”è®°æ­£æ–‡ä¸­è‡ªåŠ¨ç”Ÿæˆ Obsidian åŒé“¾ `[[çˆ¶èŠ‚ç‚¹åç§°]]`ï¼Œä¸ Frontmatter å…³è”å­—æ®µäº’è¡¥

## é™„å½• C: ç»„ä»¶çŠ¶æ€æœº

### C.1 ç¬”è®°çŠ¶æ€æœº (NoteStatus)

> **çŠ¶æ€å®šä¹‰**: æ¯ä¸ª CR ç¬”è®°åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­ç»å†çš„çŠ¶æ€è½¬æ¢ã€‚

```mermaid
stateDiagram-v2
    [*] --> Stub: ä¾§è¾¹æ åˆ›å»º
    [*] --> Draft: Principleåˆæˆ
    Stub --> Draft: Agentå®Œæˆ + ç¡®è®¤å†™å…¥
    Draft --> Evergreen: æ ‡è®°ä¸ºEvergreen
    Evergreen --> Draft: é™çº§ä¸ºDraft / å¢é‡å†™å…¥
    Draft --> Draft: å¢é‡å†™å…¥
```

| çŠ¶æ€ | å«ä¹‰ | è¿›å…¥æ¡ä»¶ | å¯ç”¨æ“ä½œ |
|:-- |:-- |:-- |:-- |
| **Stub** | å ä½ç¬¦ï¼Œä»…åŒ…å« frontmatterï¼Œæ­£æ–‡åˆå§‹ä¸ºç©ºï¼Œå†…å®¹ç”Ÿæˆå‰è¯¥æ–‡ä»¶å·²å­˜åœ¨äºç£ç›˜ä¸Š | ä¾§è¾¹æ ç¡®è®¤åˆ›å»ºæ–°ç¬”è®° (Principle é™¤å¤–) | ç­‰å¾… Agent å¡«å……ï¼ˆè‡ªåŠ¨å…¥é˜Ÿï¼‰|
| **Draft** | AI å·²ç”Ÿæˆå†…å®¹ï¼Œå¾…å®¡æ ¸ | Agent å®Œæˆ + ç”¨æˆ·ç¡®è®¤å†™å…¥ï¼›æˆ– Principle åˆæˆç¡®è®¤ | æ ‡è®°ä¸º Evergreen, å¢é‡æ”¹è¿›, æ·±åŒ–ï¼ˆéç»ˆç«¯ç±»å‹ï¼‰|
| **Evergreen** | ç”¨æˆ·å·²å®¡æ ¸ï¼Œå†…å®¹ç¨³å®š | ç”¨æˆ·ç‚¹å‡» [æ ‡è®°ä¸º Evergreen] | é™çº§ä¸º Draft, å¢é‡æ”¹è¿›, æ·±åŒ–ï¼ˆéç»ˆç«¯ç±»å‹ï¼‰|

**Evergreen å®¡æ ¸æœºåˆ¶**:
- ç”¨æˆ·ç‚¹å‡» [æ ‡è®°ä¸º Evergreen] æŒ‰é’®å³å®Œæˆå®¡æ ¸ï¼Œæ— éœ€æ»¡è¶³é¢å¤–æ¡ä»¶
- ç³»ç»Ÿä¸å¼ºåˆ¶è¦æ±‚æ‰€æœ‰å­—æ®µéç©ºæˆ–å†…å®¹å®Œæ•´åº¦è¾¾æ ‡
- è‹¥ç”¨æˆ·è¯¯å°†æœªå®Œå–„çš„ Draft æ ‡è®°ä¸º Evergreenï¼Œå¯é€šè¿‡ [é™çº§ä¸º Draft] æŒ‰é’®æ’¤å›
- é™¤é™çº§å¤–ï¼Œæ— å…¶ä»–è‡ªåŠ¨çº æ­£æœºåˆ¶â€”â€”ç”¨æˆ·å¯¹å†…å®¹çŠ¶æ€æ‹¥æœ‰å®Œå…¨æ§åˆ¶æƒ

**çŠ¶æ€è½¬æ¢è§¦å‘å™¨**:

| è½¬æ¢ | è§¦å‘å™¨ | è‡ªåŠ¨/æ‰‹åŠ¨ |
|:-- |:-- |:-- |
| (æ— ) â†’ Stub | ä¾§è¾¹æ  [ç¡®è®¤åˆ›å»º] | æ‰‹åŠ¨ç¡®è®¤å…ƒæ•°æ® |
| (æ— ) â†’ Draft | Principle åˆæˆ + [ç¡®è®¤å†™å…¥] | æ‰‹åŠ¨ç¡®è®¤ï¼ˆPrinciple è·³è¿‡ Stubï¼‰|
| Stub â†’ Draft | Agent å®Œæˆ + [ç¡®è®¤å†™å…¥] | æ‰‹åŠ¨ç¡®è®¤å†…å®¹ |
| Draft â†’ Evergreen | [æ ‡è®°ä¸º Evergreen] | æ‰‹åŠ¨ |
| Evergreen â†’ Draft | [é™çº§ä¸º Draft] æˆ–å¢é‡å†™å…¥ | æ‰‹åŠ¨ |
| Draft â†’ Draft | å¢é‡ Agent å®Œæˆ + [ç¡®è®¤å†™å…¥] | æ‰‹åŠ¨ç¡®è®¤ |

> **å…³é”®è¯´æ˜**: 
> - åˆ›å»º Stub éœ€è¦ç”¨æˆ·åœ¨ä¾§è¾¹æ ä¸­å®¡æ ¸å¹¶ç¡®è®¤æ ‡å‡†åŒ–åç§°ã€ç±»å‹ã€åˆ«ååæ‰æ‰§è¡Œï¼Œè¿™ä¸æ˜¯"é™é»˜å†™å…¥"ã€‚
> - Principle ç±»å‹é€šè¿‡åˆæˆæ“ä½œåˆ›å»ºï¼Œç›´æ¥ä»¥ Draft çŠ¶æ€å†™å…¥ï¼Œè·³è¿‡ Stub é˜¶æ®µã€‚

### C.2 ä»»åŠ¡çŠ¶æ€æœº (TaskStatus)

> **çŠ¶æ€å®šä¹‰**: é˜Ÿåˆ—ä¸­æ¯ä¸ªä»»åŠ¡çš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€ã€‚

```mermaid
stateDiagram-v2
    [*] --> Pending: ä»»åŠ¡å…¥é˜Ÿ
    Pending --> Running: è°ƒåº¦å™¨åˆ†é…
    Pending --> Cancelled: ç”¨æˆ·å–æ¶ˆ
    Running --> AwaitingConfirmation: æˆåŠŸ
    Running --> Retrying: å¤±è´¥ä¸”é‡è¯•<3
    Retrying --> Running: é‡è¯•
    Retrying --> Failed: é‡è¯•â‰¥3
    AwaitingConfirmation --> Confirmed: ç”¨æˆ·ç¡®è®¤å†™å…¥
    AwaitingConfirmation --> Discarded: ç”¨æˆ·æ”¾å¼ƒ
    Failed --> Pending: ç”¨æˆ·æ‰‹åŠ¨é‡æ–°å…¥é˜Ÿ
    
    Confirmed --> [*]
    Discarded --> [*]
    Cancelled --> [*]
```

| çŠ¶æ€ | å«ä¹‰ | è¿›å…¥æ¡ä»¶ |
|:-- |:-- |:-- |
| **Pending** | ç­‰å¾…æ‰§è¡Œ | ä»»åŠ¡å…¥é˜Ÿï¼Œæˆ–ç”¨æˆ·ä» Failed çŠ¶æ€æ‰‹åŠ¨é‡æ–°å…¥é˜Ÿ |
| **Running** | æ­£åœ¨æ‰§è¡Œ | è°ƒåº¦å™¨åˆ†é…æ‰§è¡Œ |
| **AwaitingConfirmation** | æ‰§è¡ŒæˆåŠŸï¼Œç­‰å¾…ç”¨æˆ·ç¡®è®¤ | Agent è¿”å›æœ‰æ•ˆç»“æœ |
| **Confirmed** | ç”¨æˆ·å·²ç¡®è®¤å†™å…¥ | ç”¨æˆ·ç‚¹å‡» [ç¡®è®¤å†™å…¥] |
| **Discarded** | ç”¨æˆ·å·²æ”¾å¼ƒç»“æœ | ç”¨æˆ·ç‚¹å‡» [æ”¾å¼ƒ] |
| **Retrying** | é‡è¯•ä¸­ | æ‰§è¡Œå¤±è´¥ï¼Œé‡è¯•æ¬¡æ•° < maxRetries |
| **Failed** | æœ€ç»ˆå¤±è´¥ | é‡è¯•æ¬¡æ•° â‰¥ maxRetriesï¼Œç”¨æˆ·å¯æ‰‹åŠ¨é‡æ–°å…¥é˜Ÿ |
| **Cancelled** | å·²å–æ¶ˆ | ç”¨æˆ·ç‚¹å‡» [å–æ¶ˆ] |

**ä»»åŠ¡å®Œæˆåçš„ç”¨æˆ·å†³ç­–**:
- **[ç¡®è®¤å†™å…¥]**: å†™å…¥æ–‡ä»¶, æ›´æ–°ç¬”è®°çŠ¶æ€ä¸º Draft, è®°å½•åˆ°å†å², ä»»åŠ¡çŠ¶æ€å˜ä¸º Confirmed
- **[æ”¾å¼ƒ]**: ä¸¢å¼ƒç»“æœ, ç¬”è®°çŠ¶æ€ä¸å˜, ä»»åŠ¡çŠ¶æ€å˜ä¸º Discarded
- **[é‡æ–°å…¥é˜Ÿ]** (ä»… Failed çŠ¶æ€å¯ç”¨): å°†ä»»åŠ¡é‡æ–°åŠ å…¥é˜Ÿåˆ—ï¼ŒçŠ¶æ€å˜ä¸º Pending

### C.3 çŠ¶æ€æœºçº¦æŸ (Invariants)

> **ç¬¬ä¸€åŸç†**: çŠ¶æ€æœºå¿…é¡»æ»¡è¶³ç³»ç»Ÿå…¬ç†çº¦æŸã€‚

| çº¦æŸ | å¯¹åº”å…¬ç† | éªŒè¯æ–¹å¼ |
|:-- |:-- |:-- |
| åˆ›å»º Stub éœ€ç»è¿‡å…ƒæ•°æ®ç¡®è®¤ç•Œé¢ | A3 (ç¦æ­¢é™é»˜å†™å…¥) | ç”¨æˆ·ç‚¹å‡» [ç¡®è®¤åˆ›å»º] |
| ä»»ä½•å†…å®¹å†™å…¥éœ€ç»è¿‡ [ç¡®è®¤å†™å…¥] | A3 (ç¦æ­¢é™é»˜å†™å…¥) | çŠ¶æ€è½¬æ¢æ—¥å¿— |
| Stub â†’ Draft å¿…é¡»æœ‰ç”¨æˆ·ç¡®è®¤äº‹ä»¶ | A3 (å¯è¿½æº¯æ€§) | æ“ä½œ ID è®°å½• |
| æ‰€æœ‰å·²ç¡®è®¤å†™å…¥å¯é€šè¿‡å†å²è®°å½•æ’¤é”€ | A3 (å¯æ’¤é”€æ€§) | å†å²è®°å½•å¿«ç…§ |
| é˜Ÿåˆ—çŠ¶æ€æŒä¹…åŒ–åˆ°æœ¬åœ°æ–‡ä»¶ | A3 (å¯ä¸­æ–­æ¢å¤æ€§) | queue-state.json |
| ä»»åŠ¡ Failed åä¸è‡ªåŠ¨é‡æ–°å…¥é˜Ÿï¼Œä½†ç”¨æˆ·å¯æ‰‹åŠ¨æ“ä½œ | é¿å…æ— é™å¾ªç¯ + ç”¨æˆ·æ§åˆ¶æƒ | ç”¨æˆ·ç‚¹å‡» [é‡æ–°å…¥é˜Ÿ] |

### C.4 è¾¹ç•Œæ¡ä»¶å¤„ç†è§„åˆ™

> **è®¾è®¡åŸåˆ™**: æ˜ç¡®å„ç§å¼‚å¸¸åœºæ™¯çš„å¤„ç†ç­–ç•¥ï¼Œç¡®ä¿ç³»ç»Ÿè¡Œä¸ºå¯é¢„æµ‹ã€‚

| è¾¹ç•Œæ¡ä»¶ | å¤„ç†ç­–ç•¥ | ç†ç”± |
|:-- |:-- |:-- |
| **Stub çŠ¶æ€ç¬”è®°è¢«æ‰‹åŠ¨åˆ é™¤** | é˜Ÿåˆ—ä¸­å¯¹åº”çš„ä»»åŠ¡è‡ªåŠ¨å–æ¶ˆå¹¶ä»é˜Ÿåˆ—ç§»é™¤ | é¿å…ä»»åŠ¡æ‰§è¡Œåæ‰¾ä¸åˆ°ç›®æ ‡æ–‡ä»¶ |
| **Agent æ‰§è¡Œè¿‡ç¨‹ä¸­ç”¨æˆ·å…³é—­ç¬”è®°** | ä»»åŠ¡ç»§ç»­åœ¨åå°æ‰§è¡Œï¼Œå®Œæˆååœ¨é˜Ÿåˆ—åŒºæ˜¾ç¤º [ç¡®è®¤å†™å…¥] æŒ‰é’® | ä¸å¹²æ‰°ç”¨æˆ·å½“å‰å·¥ä½œï¼Œç¬¦åˆ A7 (æ³¨æ„åŠ›å°Šé‡) |
| **ç”¨æˆ·æ‰‹åŠ¨ä¿®æ”¹ frontmatter ä¸­çš„ status ä¸ºæ— æ•ˆå€¼** | ç³»ç»Ÿå°†æ­¤ç¬”è®°è§†ä¸ºé CR ç¬”è®°ï¼Œä¸åœ¨ä¾§è¾¹æ æ˜¾ç¤º CR æ“ä½œ | å®¹é”™å¤„ç†ï¼Œé¿å…ç³»ç»Ÿå´©æºƒ |
| **ç”¨æˆ·æ‰‹åŠ¨ä¿®æ”¹ frontmatter ä¸­çš„ type ä¸ºæ— æ•ˆå€¼** | åŒä¸Šï¼Œè§†ä¸ºé CR ç¬”è®° | å®¹é”™å¤„ç† |
| **ç¦»çº¿çŠ¶æ€ä¸‹è§¦å‘éœ€è¦ API çš„æ“ä½œ** | æ˜ç¡®æç¤º"AI åŠŸèƒ½ä¸å¯ç”¨ï¼šæ— æ³•è¿æ¥åˆ° API æœåŠ¡"ï¼Œæœ¬åœ°æ•°æ®ï¼ˆç¬”è®°æµè§ˆã€é˜Ÿåˆ—å†å²æŸ¥çœ‹ï¼‰å¯æ­£å¸¸ä½¿ç”¨ï¼Œä¸é™é»˜å¤±è´¥ | ç¬¦åˆ A5 (æœ¬åœ°ä¼˜å…ˆ)ï¼Œç”¨æˆ·çŸ¥æƒ… |
